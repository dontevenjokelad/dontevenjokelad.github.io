<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Dashboard.edu</title>
<link rel="icon" type="image/png" href="https://raw.githubusercontent.com/bguhm/bguhm.github.io/main/images/favicons/soundscape/Untitled161_20260220092642.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"/>
<style>
@import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Bebas+Neue&family=Inter:wght@300;400;500;600&display=swap');
:root{
  --bg:#0a0a0a;--surface:#111;--surface2:#1a1a1a;--surface3:#222;
  --border:rgba(255,255,255,0.07);--accent:#ff0000;--accent2:#00e5ff;
  --text:#f0f0f0;--muted:#666;--dim:#999;--sidebar-w:240px;
  --gold:#FFD700;--silver:#C0C0C0;--bronze:#CD7F32;
}
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;background:var(--bg);color:var(--text);font-family:'Inter',sans-serif;overflow:hidden;}
.app{display:grid;grid-template-rows:1fr 88px;grid-template-columns:var(--sidebar-w) 1fr;grid-template-areas:"sidebar main" "player player";height:100vh;}
.app.no-player{grid-template-rows:1fr 0px;}
.sidebar{grid-area:sidebar;background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;overflow:hidden;}
.sidebar-logo-row{padding:18px 16px 10px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px;}
.sidebar-logo{font-family:'Bebas Neue',sans-serif;font-size:26px;letter-spacing:3px;background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;flex:1;}
.sidebar-section-label{padding:12px 16px 6px;font-size:10px;font-weight:600;letter-spacing:2px;color:var(--muted);text-transform:uppercase;font-family:'Space Mono',monospace;display:flex;align-items:center;justify-content:space-between;}
.sidebar-section-label button{background:none;border:none;color:var(--muted);cursor:pointer;font-size:13px;transition:color .2s;}
.sidebar-section-label button:hover{color:var(--text);}
.sidebar-nav{display:flex;flex-direction:column;gap:2px;padding:8px 8px 0;}
.nav-btn{background:none;border:none;color:var(--muted);font-family:'Space Mono',monospace;font-size:12px;padding:8px 10px;border-radius:6px;cursor:pointer;text-align:left;display:flex;align-items:center;gap:8px;transition:all .2s;width:100%;}
.nav-btn:hover{background:var(--surface2);color:var(--text);}
.nav-btn.active{background:var(--surface3);color:var(--accent2);}
.sidebar-list{flex:1;overflow-y:auto;padding:4px 8px 8px;}
.sidebar-list::-webkit-scrollbar{width:3px;}
.sidebar-list::-webkit-scrollbar-thumb{background:var(--surface3);border-radius:2px;}
.saved-item{display:flex;align-items:center;gap:10px;padding:7px 8px;border-radius:7px;cursor:pointer;transition:background .15s;}
.saved-item:hover{background:var(--surface2);}
.saved-item.active{background:var(--surface3);}
.saved-item-art{width:38px;height:38px;border-radius:5px;object-fit:cover;background:var(--surface3);flex-shrink:0;}
.saved-item-art.playlist-icon{display:flex;align-items:center;justify-content:center;font-size:16px;color:var(--accent2);}
.saved-item-info{min-width:0;}
.saved-item-name{font-size:12px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.saved-item-sub{font-size:10px;color:var(--muted);margin-top:1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:'Space Mono',monospace;}
.topbar{display:flex;align-items:center;gap:10px;padding:12px 20px;border-bottom:1px solid var(--border);flex-shrink:0;}
.topbar-back,.topbar-fwd{background:none;border:none;color:var(--muted);cursor:pointer;font-size:15px;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s;}
.topbar-back:hover,.topbar-fwd:hover{background:var(--surface2);color:var(--text);}
.search-wrap{flex:1;display:flex;align-items:center;gap:8px;background:var(--surface2);border:1px solid var(--border);border-radius:20px;padding:6px 14px;max-width:400px;}
.search-wrap input{background:transparent;border:none;outline:none;color:var(--text);font-size:13px;font-family:'Space Mono',monospace;width:100%;}
.search-wrap input::placeholder{color:var(--muted);}
.search-wrap i{color:var(--muted);font-size:12px;}
.topbar-right{display:flex;align-items:center;gap:8px;margin-left:auto;}
.pfp-btn{width:34px;height:34px;border-radius:50%;background:var(--surface3);border:2px solid var(--border);cursor:pointer;overflow:hidden;display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:14px;transition:all .2s;flex-shrink:0;}
.pfp-btn:hover{border-color:var(--accent2);}
.pfp-btn img{width:100%;height:100%;object-fit:cover;}
.topbar-btn{background:none;border:1px solid var(--border);color:var(--muted);font-family:'Space Mono',monospace;font-size:11px;padding:5px 12px;border-radius:20px;cursor:pointer;transition:all .2s;}
.topbar-btn:hover{background:var(--surface2);color:var(--text);}
.topbar-btn.primary{background:var(--text);color:var(--bg);border-color:var(--text);}
.topbar-btn.primary:hover{background:#ddd;}
.main{grid-area:main;display:flex;flex-direction:column;overflow:hidden;}
.view{flex:1;overflow-y:auto;display:none;}
.view.active{display:flex;flex-direction:column;}
.view::-webkit-scrollbar{width:4px;}
.view::-webkit-scrollbar-thumb{background:var(--surface3);border-radius:2px;}
.podium-section{padding:20px 24px 10px;background:linear-gradient(180deg,rgba(255,215,0,.06) 0%,transparent 100%);border-bottom:1px solid var(--border);margin-bottom:6px;}
.podium-title{font-family:'Bebas Neue',sans-serif;font-size:18px;letter-spacing:3px;color:var(--gold);margin-bottom:14px;display:flex;align-items:center;gap:8px;}
.podium-title i{font-size:16px;}
.podium-row{display:flex;gap:12px;align-items:flex-end;}
.podium-card{flex:1;border-radius:10px;padding:14px 12px;position:relative;text-align:center;transition:transform .2s;}
.podium-card:hover{transform:translateY(-3px);}
.podium-card.gold{background:linear-gradient(135deg,rgba(255,215,0,.15),rgba(255,215,0,.05));border:1px solid rgba(255,215,0,.3);}
.podium-card.silver{background:linear-gradient(135deg,rgba(192,192,192,.12),rgba(192,192,192,.04));border:1px solid rgba(192,192,192,.2);}
.podium-card.bronze{background:linear-gradient(135deg,rgba(205,127,50,.12),rgba(205,127,50,.04));border:1px solid rgba(205,127,50,.2);}
.podium-medal{font-size:22px;margin-bottom:6px;display:block;}
.podium-rank{font-family:'Bebas Neue',sans-serif;font-size:11px;letter-spacing:2px;color:var(--muted);margin-bottom:4px;}
.podium-track{font-size:12px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.podium-artist{font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.podium-score{font-family:'Bebas Neue',sans-serif;font-size:20px;margin-top:6px;}
.podium-card.gold .podium-score{color:var(--gold);}
.podium-card.silver .podium-score{color:var(--silver);}
.podium-card.bronze .podium-score{color:var(--bronze);}
.podium-loading{color:var(--muted);font-family:'Space Mono',monospace;font-size:11px;padding:20px;text-align:center;}
.podium-cover-wrapper{width:80px;height:80px;margin:0 auto 10px;border-radius:8px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.4);}
.podium-cover{width:100%;height:100%;object-fit:cover;display:block;}
.podium-card.gold .podium-cover-wrapper{transform:scale(1.1);box-shadow:0 0 25px rgba(255,215,0,0.4);}
.discovery-hero{padding:20px 24px 10px;background:linear-gradient(180deg,rgba(255,0,0,.08) 0%,transparent 100%);}
.discovery-hero h1{font-family:'Bebas Neue',sans-serif;font-size:38px;letter-spacing:3px;line-height:1;}
.discovery-hero p{color:var(--muted);font-size:13px;margin-top:6px;font-family:'Space Mono',monospace;}
.section-title{font-family:'Bebas Neue',sans-serif;font-size:22px;letter-spacing:2px;padding:16px 24px 10px;display:flex;align-items:center;justify-content:space-between;}
.section-title-left{display:flex;align-items:center;gap:8px;}
.see-all-btn{font-family:'Space Mono',monospace;font-size:11px;color:var(--accent2);background:none;border:1px solid rgba(0,229,255,.3);padding:4px 12px;border-radius:14px;cursor:pointer;transition:all .2s;flex-shrink:0;}
.see-all-btn:hover{background:rgba(0,229,255,.1);}
.album-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:16px;padding:0 24px 20px;}
.album-card{background:transparent;border-radius:10px;padding:0 0 8px 0;cursor:pointer;transition:opacity .2s;position:relative;}
.album-card:hover{opacity:.78;}
.album-card:hover .album-card-art{transform:scale(1.03);}
.album-card-art{width:100%;aspect-ratio:1;border-radius:8px;object-fit:cover;background:var(--surface3);display:block;margin-bottom:8px;transition:transform .2s;}
.album-card-title{font-size:13px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.album-card-sub{font-size:11px;color:var(--muted);margin-top:3px;font-family:'Space Mono',monospace;}
.top100-section{padding:0 24px 20px;}
.top100-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.top100-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;overflow:hidden;}
.top100-card-header{display:flex;align-items:center;justify-content:space-between;padding:10px 14px 8px;border-bottom:1px solid var(--border);}
.top100-card-title{font-family:'Bebas Neue',sans-serif;font-size:16px;letter-spacing:2px;display:flex;align-items:center;gap:6px;}
.top100-card-title i{font-size:13px;}
.top100-list{padding:6px 0;}
.top100-row{display:flex;align-items:center;gap:10px;padding:7px 14px;transition:background .15s;cursor:pointer;}
.top100-row:hover{background:var(--surface2);}
.top100-num{font-family:'Bebas Neue',sans-serif;font-size:16px;color:var(--muted);width:20px;text-align:center;flex-shrink:0;}
.top100-num.top1{color:var(--gold);}
.top100-num.top2{color:var(--silver);}
.top100-num.top3{color:var(--bronze);}
.top100-art{width:34px;height:34px;border-radius:4px;object-fit:cover;background:var(--surface3);flex-shrink:0;}
.top100-info{flex:1;min-width:0;}
.top100-name{font-size:12px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.top100-sub{font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:1px;}
.top100-val{font-family:'Space Mono',monospace;font-size:10px;color:var(--accent2);flex-shrink:0;}
.fullstats-overlay{position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:1000;display:none;flex-direction:column;backdrop-filter:blur(6px);}
.fullstats-overlay.open{display:flex;}
.fullstats-inner{max-width:900px;width:100%;margin:0 auto;height:100%;display:flex;flex-direction:column;padding:20px;}
.fullstats-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-shrink:0;}
.fullstats-title{font-family:'Bebas Neue',sans-serif;font-size:32px;letter-spacing:3px;}
.fullstats-close{background:none;border:1px solid var(--border);color:var(--muted);width:36px;height:36px;border-radius:50%;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:all .2s;}
.fullstats-close:hover{color:var(--text);border-color:var(--text);}
.fullstats-tabs{display:flex;gap:4px;margin-bottom:14px;flex-shrink:0;flex-wrap:wrap;}
.fstab{background:none;border:1px solid var(--border);color:var(--muted);font-family:'Space Mono',monospace;font-size:11px;padding:6px 14px;border-radius:20px;cursor:pointer;transition:all .2s;}
.fstab.active{background:var(--accent2);color:var(--bg);border-color:var(--accent2);}
.fullstats-body{flex:1;overflow-y:auto;padding-right:4px;}
.fullstats-body::-webkit-scrollbar{width:3px;}
.fullstats-body::-webkit-scrollbar-thumb{background:var(--surface3);border-radius:2px;}
.fs-podium{margin-bottom:20px;}
.fs-row{display:flex;align-items:center;gap:12px;padding:10px 12px;border-radius:8px;cursor:pointer;transition:background .15s;border-bottom:1px solid rgba(255,255,255,.04);}
.fs-row:hover{background:var(--surface2);}
.fs-rank{font-family:'Bebas Neue',sans-serif;font-size:20px;color:var(--muted);width:30px;text-align:center;flex-shrink:0;}
.fs-rank.r1{color:var(--gold);}
.fs-rank.r2{color:var(--silver);}
.fs-rank.r3{color:var(--bronze);}
.fs-art{width:44px;height:44px;border-radius:6px;object-fit:cover;background:var(--surface3);}
.fs-info{flex:1;min-width:0;}
.fs-name{font-size:13px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.fs-sub{font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:2px;}
.fs-val{font-family:'Bebas Neue',sans-serif;font-size:22px;color:var(--accent2);}
.fs-loading{text-align:center;padding:40px;color:var(--muted);font-family:'Space Mono',monospace;font-size:12px;}
.fs-empty{text-align:center;padding:40px;color:var(--muted);font-family:'Space Mono',monospace;font-size:12px;}
.album-hero{display:flex;align-items:flex-end;gap:20px;padding:28px 24px 20px;background:linear-gradient(180deg,rgba(255,0,0,.1) 0%,transparent 100%);}
.album-hero-art{width:180px;height:180px;border-radius:10px;object-fit:cover;background:var(--surface3);flex-shrink:0;box-shadow:0 8px 32px rgba(0,0,0,.5);}
.album-hero-art.hidden{display:none;}
.album-hero-label{font-size:10px;font-family:'Space Mono',monospace;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-bottom:6px;}
.album-hero-title{font-family:'Bebas Neue',sans-serif;font-size:40px;letter-spacing:2px;line-height:1.1;}
.album-hero-artist{font-size:13px;color:var(--muted);margin-top:6px;font-family:'Space Mono',monospace;cursor:pointer;transition:color .2s;}
.album-hero-artist:hover{color:var(--accent2);}
.album-hero-meta{font-size:11px;color:var(--muted);margin-top:4px;}
.album-actions{display:flex;gap:10px;margin-top:14px;align-items:center;flex-wrap:wrap;}
.btn-play-all{background:var(--accent2);color:var(--bg);border:none;border-radius:50%;width:48px;height:48px;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0;}
.btn-play-all:hover{transform:scale(1.08);background:#1af0ff;}
.btn-save{background:none;border:1px solid var(--border);color:var(--muted);padding:8px 16px;border-radius:20px;font-family:'Space Mono',monospace;font-size:11px;cursor:pointer;transition:all .2s;}
.btn-save:hover,.btn-save.saved{color:var(--accent2);border-color:var(--accent2);}
.btn-download{background:none;border:1px solid var(--border);color:var(--muted);padding:8px 16px;border-radius:20px;font-family:'Space Mono',monospace;font-size:11px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:6px;}
.btn-download:hover{color:#51cf66;border-color:#51cf66;}
.btn-download.downloaded{color:#51cf66;border-color:#51cf66;}
.tracklist-wrap{padding:0 16px 20px;}
.tracklist-header{display:grid;grid-template-columns:36px 1fr 80px 40px;padding:6px 12px;border-bottom:1px solid var(--border);margin-bottom:4px;}
.tracklist-header span{font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;letter-spacing:1px;}
.tracklist-header span:nth-child(3){text-align:right;}
.track-row{display:grid;grid-template-columns:36px 1fr 80px 40px;align-items:center;padding:8px 12px;border-radius:6px;cursor:pointer;transition:background .15s;gap:4px;}
.track-row:hover{background:var(--surface2);}
.track-row.playing .track-num-text{display:none;}
.track-row.playing .track-num-icon{display:block!important;color:var(--accent2);animation:pulse 1.2s infinite;}
.track-row.playing .track-name-cell{color:var(--accent2);}
.track-row.unavailable{opacity:.3;cursor:default;}
.track-row.unavailable:hover{background:transparent;}
.track-num{font-size:12px;color:var(--muted);font-family:'Space Mono',monospace;text-align:center;}
.track-num-icon{display:none;font-size:11px;}
.track-name-cell{font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.track-dur{font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;text-align:right;}
.track-menu-btn{background:none;border:none;color:var(--muted);cursor:pointer;font-size:13px;width:28px;height:28px;border-radius:50%;display:none;align-items:center;justify-content:center;transition:all .2s;}
.track-row:hover .track-menu-btn{display:flex;}
.track-menu-btn:hover{background:var(--surface3);color:var(--text);}
@keyframes pulse{0%,100%{opacity:1;}50%{opacity:.4;}}
.artist-pfp{width:140px;height:140px;border-radius:50%;object-fit:cover;background:var(--surface3);flex-shrink:0;box-shadow:0 8px 32px rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;font-size:56px;overflow:hidden;}
.artist-pfp img{width:100%;height:100%;object-fit:cover;}
.btn-follow{background:none;border:2px solid var(--text);color:var(--text);padding:8px 24px;border-radius:20px;font-family:'Space Mono',monospace;font-size:12px;cursor:pointer;transition:all .2s;}
.btn-follow:hover,.btn-follow.following{background:var(--text);color:var(--bg);}
.search-results{padding:16px 24px;}
.results-section{margin-bottom:24px;}
.results-section h3{font-family:'Bebas Neue',sans-serif;font-size:20px;letter-spacing:2px;margin-bottom:10px;}
.user-card{display:flex;align-items:center;gap:12px;padding:10px 12px;border-radius:8px;cursor:pointer;transition:background .15s;max-width:340px;}
.user-card:hover{background:var(--surface2);}
.user-card-pfp{width:46px;height:46px;border-radius:50%;background:var(--surface3);overflow:hidden;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;}
.user-card-pfp img{width:100%;height:100%;object-fit:cover;}
.user-card-name{font-size:14px;font-weight:500;}
.user-card-sub{font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:2px;}
.result-track-row{display:flex;align-items:center;gap:12px;padding:8px 12px;border-radius:6px;cursor:pointer;transition:background .15s;}
.result-track-row:hover{background:var(--surface2);}
.result-track-art{width:40px;height:40px;border-radius:5px;object-fit:cover;background:var(--surface3);}
.result-track-name{font-size:13px;font-weight:500;}
.result-track-album{font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;}
.profile-hero{padding:32px 24px 20px;display:flex;align-items:flex-end;gap:20px;}
.profile-avatar{width:120px;height:120px;border-radius:50%;background:var(--surface3);overflow:hidden;display:flex;align-items:center;justify-content:center;font-size:48px;flex-shrink:0;cursor:pointer;position:relative;border:3px solid var(--border);transition:border-color .2s;}
.profile-avatar:hover{border-color:var(--accent2);}
.profile-avatar img{width:100%;height:100%;object-fit:cover;}
.profile-avatar-edit{position:absolute;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;font-size:20px;color:#fff;border-radius:50%;}
.profile-avatar:hover .profile-avatar-edit{display:flex;}
.profile-displayname{font-family:'Bebas Neue',sans-serif;font-size:40px;letter-spacing:2px;}
.profile-username{font-size:12px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:2px;}
.profile-id{font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;}
.profile-stats{display:flex;gap:20px;margin-top:10px;}
.profile-stat{text-align:center;}
.profile-stat-num{font-family:'Bebas Neue',sans-serif;font-size:22px;}
.profile-stat-label{font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;letter-spacing:1px;}
.profile-actions{display:flex;gap:8px;margin-top:14px;}
.profile-section{padding:0 24px 20px;}
.profile-section h3{font-family:'Bebas Neue',sans-serif;font-size:20px;letter-spacing:2px;margin-bottom:10px;}
.playlist-card{display:inline-flex;flex-direction:column;width:150px;background:var(--surface2);border-radius:10px;padding:12px;cursor:pointer;transition:all .2s;margin-right:12px;margin-bottom:12px;vertical-align:top;}
.playlist-card:hover{background:var(--surface3);}
.playlist-card-icon{width:100%;aspect-ratio:1;background:linear-gradient(135deg,var(--surface3),var(--surface));border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:30px;color:var(--accent2);margin-bottom:8px;}
.playlist-card-name{font-size:12px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.playlist-card-count{font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:2px;}
.playlist-hero{display:flex;align-items:flex-end;gap:20px;padding:28px 24px 20px;background:linear-gradient(180deg,rgba(0,229,255,.08) 0%,transparent 100%);}
.playlist-hero-icon{width:160px;height:160px;border-radius:10px;background:linear-gradient(135deg,var(--surface2),var(--surface3));display:flex;align-items:center;justify-content:center;font-size:60px;color:var(--accent2);flex-shrink:0;box-shadow:0 8px 32px rgba(0,0,0,.5);}
.playlist-hero-name{font-family:'Bebas Neue',sans-serif;font-size:40px;letter-spacing:2px;line-height:1.1;}
.playlist-hero-owner{font-size:12px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:6px;}
.playlist-hero-count{font-size:11px;color:var(--muted);margin-top:3px;}
.playlist-track-row{display:grid;grid-template-columns:36px 42px 1fr 100px 40px;align-items:center;padding:8px 12px;border-radius:6px;cursor:pointer;transition:background .15s;gap:8px;}
.playlist-track-row:hover{background:var(--surface2);}
.playlist-track-art{width:36px;height:36px;border-radius:4px;object-fit:cover;background:var(--surface3);}
.playlist-track-name{font-size:13px;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.playlist-track-album{font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:999;display:none;align-items:center;justify-content:center;backdrop-filter:blur(4px);}
.modal-overlay.open{display:flex;}
.modal{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:28px;width:100%;max-width:420px;max-height:85vh;overflow-y:auto;position:relative;}
.modal-title{font-family:'Bebas Neue',sans-serif;font-size:28px;letter-spacing:2px;margin-bottom:6px;}
.modal-sub{font-size:12px;color:var(--muted);font-family:'Space Mono',monospace;margin-bottom:20px;}
.modal-close{position:absolute;top:16px;right:16px;background:none;border:none;color:var(--muted);font-size:18px;cursor:pointer;transition:color .2s;}
.modal-close:hover{color:var(--text);}
.form-group{margin-bottom:14px;}
.form-label{font-size:11px;font-family:'Space Mono',monospace;color:var(--muted);letter-spacing:1px;text-transform:uppercase;display:block;margin-bottom:6px;}
.form-input{width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:10px 12px;color:var(--text);font-size:13px;font-family:'Space Mono',monospace;outline:none;transition:border-color .2s;}
.form-input:focus{border-color:var(--accent2);}
.form-error{font-size:11px;color:var(--accent);font-family:'Space Mono',monospace;margin-top:4px;display:none;}
.form-hint{font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:4px;}
.modal-actions{display:flex;gap:8px;margin-top:20px;justify-content:flex-end;}
.btn{padding:9px 18px;border-radius:8px;font-family:'Space Mono',monospace;font-size:12px;cursor:pointer;border:none;transition:all .2s;}
.btn-primary{background:var(--accent2);color:var(--bg);}
.btn-primary:hover{background:#1af0ff;}
.btn-secondary{background:var(--surface2);color:var(--text);border:1px solid var(--border);}
.btn-secondary:hover{background:var(--surface3);}
.btn-danger{background:var(--accent);color:#fff;}
.btn-danger:hover{background:#cc0000;}
.modal-divider{height:1px;background:var(--border);margin:16px 0;}
.id-badge{font-family:'Bebas Neue',sans-serif;font-size:32px;letter-spacing:4px;color:var(--accent2);text-align:center;padding:16px;background:var(--surface2);border-radius:8px;margin:12px 0;}
.tabs{display:flex;gap:0;border-bottom:1px solid var(--border);margin-bottom:20px;}
.tab{background:none;border:none;color:var(--muted);font-family:'Space Mono',monospace;font-size:12px;padding:10px 16px;cursor:pointer;border-bottom:2px solid transparent;margin-bottom:-1px;transition:all .2s;}
.tab.active{color:var(--text);border-bottom-color:var(--accent2);}
.ctx-menu{position:fixed;background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:6px 0;z-index:9999;min-width:180px;box-shadow:0 8px 24px rgba(0,0,0,.6);display:none;}
.ctx-menu.open{display:block;}
.ctx-item{padding:9px 14px;font-size:12px;font-family:'Space Mono',monospace;cursor:pointer;display:flex;align-items:center;gap:8px;color:var(--muted);transition:all .15s;}
.ctx-item:hover{background:var(--surface2);color:var(--text);}
.ctx-item.danger{color:var(--accent);}
.ctx-item i{width:14px;text-align:center;}
.ctx-divider{height:1px;background:var(--border);margin:4px 0;}
.editor-track{display:flex;align-items:center;gap:10px;padding:8px 12px;border-radius:6px;border-bottom:1px solid var(--border);transition:background .15s;}
.editor-track:hover{background:var(--surface2);}
.editor-track-art{width:34px;height:34px;border-radius:4px;object-fit:cover;background:var(--surface3);}
.editor-track-info{flex:1;min-width:0;}
.editor-track-name{font-size:12px;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.editor-track-album{font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;}
.editor-remove{background:none;border:none;color:var(--muted);cursor:pointer;font-size:13px;width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0;}
.editor-remove:hover{background:rgba(255,0,0,.15);color:var(--accent);}

/* ── PLAYER BAR ── */
.player-bar{grid-area:player;background:var(--surface);border-top:1px solid var(--border);display:grid;grid-template-columns:260px 1fr 260px;align-items:center;padding:0 20px;gap:10px;transition:all .3s;}
.player-bar.hidden{opacity:0;pointer-events:none;height:0;overflow:hidden;}
.now-info{display:flex;align-items:center;gap:10px;min-width:0;}
.now-art{width:52px;height:52px;border-radius:6px;object-fit:cover;background:var(--surface2);flex-shrink:0;transition:opacity .3s;}
.now-art.hidden{display:none;}
.now-text{min-width:0;}
.now-title{font-size:13px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.now-title a{color:inherit;text-decoration:none;}
.now-title a:hover{text-decoration:underline;color:var(--accent2);}
.now-artist{font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:2px;}
.controls{display:flex;flex-direction:column;align-items:center;gap:6px;}
.ctrl-btns{display:flex;align-items:center;gap:18px;}
.ctrl-btn{background:none;border:none;color:var(--muted);cursor:pointer;font-size:16px;transition:all .2s;display:flex;align-items:center;justify-content:center;}
.ctrl-btn:hover{color:var(--text);transform:scale(1.1);}
.ctrl-btn.active{color:var(--accent2);}
.ctrl-play{width:36px;height:36px;border-radius:50%;background:var(--text);color:var(--bg)!important;font-size:16px;}
.ctrl-play:hover{transform:scale(1.06)!important;background:#eee;}
.progress-row{display:flex;align-items:center;gap:8px;width:100%;}
.time-label{font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;flex-shrink:0;min-width:30px;}
.seek-wrap{flex:1;position:relative;height:4px;background:var(--surface3);border-radius:2px;cursor:pointer;}
.seek-fill{position:absolute;left:0;top:0;bottom:0;background:var(--muted);border-radius:2px;width:0%;pointer-events:none;}
.seek-wrap:hover .seek-fill{background:var(--accent2);}
.seek-input{position:absolute;inset:-8px 0;width:100%;opacity:0;cursor:pointer;margin:0;}
.right-ctrl{display:flex;align-items:center;gap:10px;justify-content:flex-end;}

/* ── VISUALIZER ── */
.wave-viz{display:flex;align-items:center;gap:2px;height:18px;opacity:0;transition:opacity .3s;}
.wave-viz.visible{opacity:1;}
.wave-viz .stroke{display:block;width:3px;background:linear-gradient(to top,var(--accent),var(--accent2));border-radius:2px;transform-origin:center;transition:height 0.05s ease;}

.vol-wrap{display:flex;align-items:center;gap:6px;}
.vol-wrap i{color:var(--muted);font-size:12px;}
.vol-slider{position:relative;width:80px;height:4px;background:var(--surface3);border-radius:2px;}
.vol-fill{position:absolute;left:0;top:0;bottom:0;background:var(--muted);border-radius:2px;width:99%;pointer-events:none;}
.vol-input{position:absolute;inset:-8px 0;width:100%;opacity:0;cursor:pointer;}
input[type=range]{-webkit-appearance:none;appearance:none;background:transparent;}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:12px;height:12px;border-radius:50%;background:var(--text);cursor:pointer;}
.empty-state{padding:40px 24px;color:var(--muted);font-family:'Space Mono',monospace;font-size:12px;text-align:center;}
.empty-state i{font-size:36px;display:block;margin-bottom:12px;opacity:.3;}
*{scrollbar-width:thin;scrollbar-color:var(--surface3) transparent;}
body::before{content:'';position:fixed;inset:0;background-image:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.02) 2px,rgba(0,0,0,.02) 4px);pointer-events:none;z-index:9999;}
.toast{position:fixed;bottom:100px;left:50%;transform:translateX(-50%) translateY(20px);background:var(--surface);border:1px solid var(--border);color:var(--text);padding:10px 20px;border-radius:8px;font-family:'Space Mono',monospace;font-size:12px;z-index:99999;opacity:0;transition:all .3s;pointer-events:none;white-space:nowrap;}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);}
.create-playlist-btn{width:100%;background:none;border:1px dashed var(--border);color:var(--muted);font-family:'Space Mono',monospace;font-size:11px;padding:8px;border-radius:7px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:6px;margin-top:6px;}
.create-playlist-btn:hover{border-color:var(--accent2);color:var(--accent2);}
.stats-dot{display:inline-block;width:6px;height:6px;border-radius:50%;background:var(--accent2);margin-right:5px;animation:blink 2s infinite;}
@keyframes blink{0%,100%{opacity:1;}50%{opacity:.3;}}
.full-list-hero{padding:24px 24px 16px;background:linear-gradient(180deg,rgba(0,229,255,.07) 0%,transparent 100%);border-bottom:1px solid var(--border);}
.full-list-hero h1{font-family:'Bebas Neue',sans-serif;font-size:36px;letter-spacing:3px;}
.full-list-hero p{color:var(--muted);font-size:12px;font-family:'Space Mono',monospace;margin-top:4px;}

/* Settings view */
.settings-view{padding:24px;}
.settings-section{margin-bottom:28px;}
.settings-section h2{font-family:'Bebas Neue',sans-serif;font-size:22px;letter-spacing:2px;margin-bottom:14px;color:var(--accent2);}
.settings-row{display:flex;align-items:center;justify-content:space-between;padding:12px 0;border-bottom:1px solid var(--border);}
.settings-label{font-family:'Space Mono',monospace;font-size:12px;color:var(--text);}
.settings-sub{font-family:'Space Mono',monospace;font-size:10px;color:var(--muted);margin-top:3px;}
.settings-control{display:flex;align-items:center;gap:8px;}
.settings-slider-wrap{display:flex;align-items:center;gap:10px;}
.settings-slider{-webkit-appearance:none;appearance:none;width:140px;height:4px;border-radius:2px;background:var(--surface3);outline:none;cursor:pointer;}
.settings-slider::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:var(--accent2);cursor:pointer;}
.settings-val{font-family:'Bebas Neue',sans-serif;font-size:18px;color:var(--accent2);min-width:40px;text-align:right;}
</style>
</head>
<body>

<div class="app" id="app">

<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="sidebar-logo-row">
    <div class="sidebar-logo"><img style="width:100%;height:100%;" src="https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/images/logos/Untitled162_20260220130644.png"/></div>
  </div>
  <div class="sidebar-nav">
    <button class="nav-btn active" id="navHome" onclick="showView('home')"><i class="fas fa-home"></i>Home</button>
    <button class="nav-btn" id="navDiscover" onclick="showView('discover')"><i class="fas fa-compass"></i>Discover</button>
    <button class="nav-btn" id="navSearch" onclick="showView('search')"><i class="fas fa-search"></i>Search</button>
    <button class="nav-btn" id="navSettings" onclick="showView('settings')"><i class="fas fa-cog"></i>Settings</button>
  </div>
  <div class="sidebar-section-label">
    <span>Library</span>
    <button onclick="openCreatePlaylist()" title="New playlist"><i class="fas fa-plus"></i></button>
  </div>
  <div class="sidebar-list" id="sidebarLibrary"></div>
  <div style="padding:0 8px 10px;">
    <button class="create-playlist-btn" onclick="openCreatePlaylist()"><i class="fas fa-plus"></i>New Playlist</button>
  </div>
</aside>

<!-- MAIN -->
<main class="main">
  <div class="topbar">
    <button class="topbar-back" id="btnBack" onclick="navBack()"><i class="fas fa-chevron-left"></i></button>
    <button class="topbar-fwd" id="btnFwd" onclick="navFwd()"><i class="fas fa-chevron-right"></i></button>
    <div class="search-wrap">
      <i class="fas fa-search"></i>
      <input type="text" id="globalSearch" placeholder="Search albums, artists, tracks, users..." autocomplete="off"/>
    </div>
    <div class="topbar-right" id="topbarRight"></div>
  </div>

  <!-- HOME VIEW -->
  <div class="view active" id="viewHome">
    <div class="discovery-hero">
      <h1>HOME</h1>
      <p>Welcome back. Pick up where you left off.</p>
    </div>
    <div class="section-title"><div class="section-title-left">Recently Available</div></div>
    <div class="album-grid" id="gridHome"></div>
  </div>

  <!-- DISCOVER VIEW -->
  <div class="view" id="viewDiscover">
    <div class="discovery-hero">
      <h1>DISCOVERY</h1>
      <p>Find the Best Music available! <br>adding more albums soon! recommend an album at<button class="see-all-btn" onclick="window.open('https://padlet.com/rhap5ody/recommendations-page-recommend-tracks-albums-and-leaks-qe5fbxdw17ngtwed', '_blank')" style="margin-left:8px;">Recommendations</button>
    </div>
    <div class="podium-section">
      <div class="podium-title"><i class="fas fa-trophy"></i>BEST</div>
      <div class="podium-row" id="podiumRow">
        <div class="podium-loading"><span class="stats-dot"></span>Loading live stats…</div>
      </div>
    </div>
    <div class="section-title">
      <div class="section-title-left">Top #100</div>
      <button class="see-all-btn" onclick="openFullStats()"><i class="fas fa-expand-alt"></i> Full Stats</button>
    </div>
    <div class="top100-section">
      <div class="top100-grid" id="top100Grid">
        <div style="grid-column:1/-1;padding:20px;text-align:center;color:var(--muted);font-family:'Space Mono',monospace;font-size:12px;"><span class="stats-dot"></span>Loading stats…</div>
      </div>
    </div>
    <div class="section-title">
      <div class="section-title-left">
        Albums
        <span style="font-size:14px;color:var(--muted);font-family:'Space Mono',monospace;margin-left:6px;" id="releasedCountSpan">(loading…)</span>
        <button class="see-all-btn" onclick="openFullList('released')" style="margin-left:8px;">More</button>
      </div>
    </div>
    <div class="album-grid" id="gridOfficial"></div>
    <div class="section-title">
      <div class="section-title-left">
        Unreleased / Shelved Albums
        <span style="font-size:14px;color:var(--muted);font-family:'Space Mono',monospace;margin-left:6px;" id="unreleasedCountSpan">(loading…)</span>
        <button class="see-all-btn" onclick="openFullList('unreleased')" style="margin-left:8px;">More</button>
      </div>
    </div>
    <div class="album-grid" id="gridUnreleased"></div>
  </div>

  <!-- FULL LIST: RELEASED -->
  <div class="view" id="viewFullReleased">
    <div class="full-list-hero">
      <h1>ALL RELEASED ALBUMS</h1>
      <p id="fullReleasedDesc">All official releases</p>
    </div>
    <div class="album-grid" id="gridFullReleased"></div>
  </div>

  <!-- FULL LIST: UNRELEASED -->
  <div class="view" id="viewFullUnreleased">
    <div class="full-list-hero">
      <h1>ALL UNRELEASED / SHELVED</h1>
      <p id="fullUnreleasedDesc">Shelved and unreleased projects</p>
    </div>
    <div class="album-grid" id="gridFullUnreleased"></div>
  </div>

  <!-- ALBUM VIEW -->
  <div class="view" id="viewAlbum">
    <div class="album-hero" id="albumHero"></div>
    <div class="tracklist-wrap">
      <div class="tracklist-header">
        <span>#</span><span>TITLE</span><span style="text-align:right">DURATION</span><span></span>
      </div>
      <div id="albumTrackRows"></div>
    </div>
  </div>

  <!-- ARTIST VIEW -->
  <div class="view" id="viewArtist">
    <div id="artistHero"></div>
    <div id="artistAlbums"></div>
  </div>

  <!-- SEARCH RESULTS VIEW -->
  <div class="view" id="viewSearch">
    <div class="search-results" id="searchResults">
      <div class="empty-state"><i class="fas fa-search"></i>Type to search albums, artists, tracks, users</div>
    </div>
  </div>

  <!-- PROFILE (own) VIEW -->
  <div class="view" id="viewProfile">
    <div id="profileContent"></div>
  </div>

  <!-- OTHER USER VIEW -->
  <div class="view" id="viewUser">
    <div id="userContent"></div>
  </div>

  <!-- PLAYLIST VIEW -->
  <div class="view" id="viewPlaylist">
    <div class="playlist-hero" id="playlistHero"></div>
    <div style="padding:0 16px 8px;display:flex;align-items:center;justify-content:space-between;">
      <div id="playlistActionRow" style="display:flex;gap:10px;align-items:center;"></div>
      <button class="btn btn-secondary" onclick="openPlaylistEditor(currentPlaylistId)" style="font-size:11px;padding:6px 14px;"><i class="fas fa-sliders-h"></i> Edit</button>
    </div>
    <div style="padding:0 16px 20px;">
      <div style="display:grid;grid-template-columns:36px 42px 1fr 100px 40px;padding:6px 12px;border-bottom:1px solid var(--border);margin-bottom:4px;">
        <span style="font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;">#</span>
        <span></span>
        <span style="font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;">TITLE</span>
        <span style="font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;text-align:right;">DURATION</span>
        <span></span>
      </div>
      <div id="playlistTrackRows"></div>
    </div>
  </div>

  <!-- SETTINGS VIEW -->
  <div class="view" id="viewSettings">
    <div class="settings-view">
      <div class="discovery-hero" style="padding:0 0 20px;">
        <h1>SETTINGS</h1>
        <p>Customize your player experience.</p>
      </div>
      <div class="settings-section">
        <h2>Audio</h2>
        <div class="settings-row">
          <div>
            <div class="settings-label">Max Volume</div>
            <div class="settings-sub">Set the maximum volume cap (100% = normal, 300% = boosted)</div>
          </div>
          <div class="settings-control settings-slider-wrap">
            <input type="range" class="settings-slider" id="settingsMaxVol" min="100" max="300" step="10" value="300"/>
            <div class="settings-val" id="settingsMaxVolVal">300%</div>
          </div>
        </div>
        <div class="settings-row">
          <div>
            <div class="settings-label">Default Volume</div>
            <div class="settings-sub">Volume level when player starts</div>
          </div>
          <div class="settings-control settings-slider-wrap">
            <input type="range" class="settings-slider" id="settingsDefaultVol" min="0" max="100" step="1" value="100"/>
            <div class="settings-val" id="settingsDefaultVolVal">100%</div>
          </div>
        </div>
      </div>
      <div class="settings-section">
        <h2>Playback</h2>
        <div class="settings-row">
          <div>
            <div class="settings-label">Shuffle by Default</div>
            <div class="settings-sub">Enable shuffle mode when a new album plays</div>
          </div>
          <div class="settings-control">
            <label style="display:flex;align-items:center;gap:8px;cursor:pointer;">
              <input type="checkbox" id="settingsShuffle" style="width:16px;height:16px;accent-color:var(--accent2);cursor:pointer;"/>
              <span style="font-family:'Space Mono',monospace;font-size:12px;color:var(--muted);">Enabled</span>
            </label>
          </div>
        </div>
        <div class="settings-row">
          <div>
            <div class="settings-label">Repeat Mode Default</div>
            <div class="settings-sub">Default repeat behavior</div>
          </div>
          <div class="settings-control">
            <select id="settingsRepeat" style="background:var(--surface2);border:1px solid var(--border);color:var(--text);font-family:'Space Mono',monospace;font-size:11px;padding:6px 10px;border-radius:6px;cursor:pointer;outline:none;">
              <option value="0">Off</option>
              <option value="1">Repeat All</option>
              <option value="2">Repeat One</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- PLAYER BAR -->
<div class="player-bar hidden" id="playerBar">
  <div class="now-info">
    <img class="now-art hidden" id="nowArt" src="" alt=""/>
    <div class="now-text">
      <div class="now-title" id="nowTitle">—</div>
      <div class="now-artist" id="nowArtist">—</div>
    </div>
  </div>
  <div class="controls">
    <div class="ctrl-btns">
      <button class="ctrl-btn" id="btnRandom" title="Shuffle" onclick="toggleShuffle()"><i class="fas fa-random"></i></button>
      <button class="ctrl-btn" id="btnPrev" onclick="prevTrack()"><i class="fas fa-step-backward"></i></button>
      <button class="ctrl-btn ctrl-play" id="btnPlay" onclick="togglePlay()"><i class="fas fa-play" id="playIcon"></i></button>
      <button class="ctrl-btn" id="btnNext" onclick="nextTrack()"><i class="fas fa-step-forward"></i></button>
      <button class="ctrl-btn" id="btnRepeat" title="Repeat" onclick="cycleRepeat()"><i class="fas fa-redo" id="repeatIcon"></i></button>
    </div>
    <div class="progress-row">
      <span class="time-label" id="currTime">0:00</span>
      <div class="seek-wrap"><div class="seek-fill" id="seekFill"></div><input type="range" class="seek-input" id="seekSlider" min="0" max="100" value="0" step="0.1"/></div>
      <span class="time-label" id="totalTime">0:00</span>
    </div>
  </div>
  <div class="right-ctrl">
    <div class="wave-viz" id="waveViz">
      <span class="stroke"></span><span class="stroke"></span><span class="stroke"></span>
      <span class="stroke"></span><span class="stroke"></span><span class="stroke"></span><span class="stroke"></span>
    </div>
    <div class="vol-wrap">
      <i class="fas fa-volume-down"></i>
      <div class="vol-slider"><div class="vol-fill" id="volFill"></div><input type="range" class="vol-input" id="volSlider" min="0" max="300" value="100"/></div>
      <i class="fas fa-volume-up"></i>
    </div>
  </div>
</div>

</div><!-- end .app -->

<!-- FULL STATS OVERLAY -->
<div class="fullstats-overlay" id="fullStatsOverlay">
  <div class="fullstats-inner">
    <div class="fullstats-header">
      <div class="fullstats-title">FULL STATS</div>
      <button class="fullstats-close" onclick="closeFullStats()"><i class="fas fa-times"></i></button>
    </div>
    <div class="fullstats-tabs">
      <button class="fstab active" onclick="switchFSTab('best')">Best Score</button>
      <button class="fstab" onclick="switchFSTab('views')">Views</button>
      <button class="fstab" onclick="switchFSTab('listens')">Listens</button>
      <button class="fstab" onclick="switchFSTab('saves')">Saves</button>
      <button class="fstab" onclick="switchFSTab('downloads')">Downloads</button>
    </div>
    <div class="fullstats-body" id="fullStatsBody"></div>
  </div>
</div>

<!-- MODALS -->
<div class="modal-overlay" id="modalAuth">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('modalAuth')"><i class="fas fa-times"></i></button>
    <div class="tabs">
      <button class="tab active" onclick="switchAuthTab('login')">Sign In</button>
      <button class="tab" onclick="switchAuthTab('register')">Create Account</button>
    </div>
    <div id="authLogin">
      <div class="modal-title">WELCOME BACK</div>
      <div class="modal-sub">Sign in with username or #ID</div>
      <div class="form-group">
        <label class="form-label">Username or #ID</label>
        <input class="form-input" id="loginUser" placeholder="@username or #WHAb90l2" autocomplete="off"/>
      </div>
      <div class="form-group">
        <label class="form-label">Password</label>
        <input class="form-input" id="loginPass" type="password" placeholder="••••••••" autocomplete="off"/>
        <div class="form-error" id="loginError">Invalid username/ID or password</div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="doLogin()">Sign In</button>
      </div>
    </div>
    <div id="authRegister" style="display:none;">
      <div class="modal-title">CREATE ACCOUNT</div>
      <div class="modal-sub">No email or payment info needed</div>
      <div class="form-group">
        <label class="form-label">Username <span style="color:var(--accent);">*</span></label>
        <input class="form-input" id="regUser" placeholder="lowercase, no spaces" autocomplete="off"/>
        <div class="form-hint">3–20 chars, letters/numbers/underscores only</div>
        <div class="form-error" id="regUserError"></div>
      </div>
      <div class="form-group">
        <label class="form-label">Display Name</label>
        <input class="form-input" id="regDisplay" placeholder="How you appear to others" autocomplete="off"/>
      </div>
      <div class="form-group">
        <label class="form-label">Password <span style="color:var(--accent);">*</span></label>
        <input class="form-input" id="regPass" type="password" placeholder="••••••••" autocomplete="off"/>
        <div class="form-hint">At least 6 characters</div>
      </div>
      <div class="form-group">
        <label class="form-label">Recovery Answer <span style="color:var(--accent);">*</span></label>
        <input class="form-input" id="regFallback" placeholder="e.g. name of your first pet" autocomplete="off"/>
        <div class="form-hint">Remember this — it's your only recovery option</div>
        <div class="form-error" id="regError"></div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="doRegister()">Create Account</button>
      </div>
    </div>
    <div id="authSuccess" style="display:none;text-align:center;">
      <div class="modal-title">ACCOUNT CREATED</div>
      <div class="modal-sub">Your unique ID:</div>
      <div class="id-badge" id="newIdBadge"></div>
      <p style="font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;">Save this ID — you can use it to sign in</p>
      <div class="modal-actions" style="justify-content:center;margin-top:16px;">
        <button class="btn btn-primary" onclick="closeModal('modalAuth')">Start Listening</button>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" id="modalEditProfile">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('modalEditProfile')"><i class="fas fa-times"></i></button>
    <div class="modal-title">EDIT PROFILE</div>
    <div class="form-group">
      <label class="form-label">Display Name</label>
      <input class="form-input" id="editDisplayName" placeholder="How you appear to others"/>
    </div>
    <div class="form-group">
      <label class="form-label">Profile Picture URL</label>
      <input class="form-input" id="editPfpUrl" placeholder="https://..."/>
      <div class="form-hint">Link to an image URL</div>
    </div>
    <div class="modal-divider"></div>
    <div class="modal-title" style="font-size:20px;">CHANGE PASSWORD</div>
    <div class="form-group">
      <label class="form-label">Current Password</label>
      <input class="form-input" id="editOldPass" type="password" placeholder="••••••••"/>
    </div>
    <div class="form-group">
      <label class="form-label">New Password</label>
      <input class="form-input" id="editNewPass" type="password" placeholder="••••••••"/>
      <div class="form-error" id="editPassError"></div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-secondary" onclick="closeModal('modalEditProfile')">Cancel</button>
      <button class="btn btn-primary" onclick="saveProfileEdit()">Save</button>
    </div>
  </div>
</div>

<div class="modal-overlay" id="modalCreatePlaylist">
  <div class="modal" style="max-width:360px;">
    <button class="modal-close" onclick="closeModal('modalCreatePlaylist')"><i class="fas fa-times"></i></button>
    <div class="modal-title">NEW PLAYLIST</div>
    <div class="form-group">
      <label class="form-label">Playlist Name</label>
      <input class="form-input" id="newPlaylistName" placeholder="My Playlist"/>
    </div>
    <div class="form-group">
      <label class="form-label">Description (optional)</label>
      <input class="form-input" id="newPlaylistDesc" placeholder="What's this playlist about?"/>
    </div>
    <div class="modal-actions">
      <button class="btn btn-secondary" onclick="closeModal('modalCreatePlaylist')">Cancel</button>
      <button class="btn btn-primary" onclick="doCreatePlaylist()">Create</button>
    </div>
  </div>
</div>

<div class="modal-overlay" id="modalAddToPlaylist">
  <div class="modal" style="max-width:360px;">
    <button class="modal-close" onclick="closeModal('modalAddToPlaylist')"><i class="fas fa-times"></i></button>
    <div class="modal-title">ADD TO PLAYLIST</div>
    <div class="modal-sub" id="addToPlaylistTrackName" style="margin-bottom:12px;"></div>
    <div id="addToPlaylistList"></div>
    <div class="modal-divider"></div>
    <button class="create-playlist-btn" onclick="openCreatePlaylistFromAdd()"><i class="fas fa-plus"></i> New Playlist</button>
  </div>
</div>

<div class="modal-overlay" id="modalPlaylistEditor">
  <div class="modal" style="max-width:500px;">
    <button class="modal-close" onclick="closeModal('modalPlaylistEditor')"><i class="fas fa-times"></i></button>
    <div class="modal-title">PLAYLIST EDITOR</div>
    <div class="modal-sub" id="editorPlaylistName"></div>
    <div style="display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap;">
      <button class="btn btn-secondary" style="font-size:11px;" onclick="editorRemoveAll()"><i class="fas fa-trash"></i> Clear All</button>
      <button class="btn btn-secondary" style="font-size:11px;" id="editorRemoveArtistBtn"><i class="fas fa-user-minus"></i> Remove Artist</button>
      <button class="btn btn-secondary" style="font-size:11px;" id="editorRemoveAlbumBtn"><i class="fas fa-compact-disc"></i> Remove Album</button>
    </div>
    <div id="editorTrackList" style="max-height:360px;overflow-y:auto;"></div>
    <div class="modal-actions">
      <button class="btn btn-primary" onclick="closeModal('modalPlaylistEditor');renderPlaylistView(currentPlaylistId);">Done</button>
    </div>
  </div>
</div>

<div class="modal-overlay" id="modalRemoveGroup">
  <div class="modal" style="max-width:360px;">
    <button class="modal-close" onclick="closeModal('modalRemoveGroup')"><i class="fas fa-times"></i></button>
    <div class="modal-title" id="removeGroupTitle">REMOVE</div>
    <div id="removeGroupList" style="max-height:300px;overflow-y:auto;"></div>
  </div>
</div>

<div class="ctx-menu" id="ctxMenu"></div>
<div class="toast" id="toast"></div>

<script>
// ══════════════════════════════════════════════════════
//  GOOGLE SHEETS STATS API
// ══════════════════════════════════════════════════════
const STATS_API = "https://script.google.com/macros/s/AKfycbwbOjxHcujPPF2GKZuMmq5-fisDnVkwsZCpUpGaEFPnHiJ-LVy8biGo5OUg9hYVaag4/exec";

let sheetData = null;
let statsLoaded = false;
let statsLoading = false;

async function fetchSheetData() {
  if (statsLoading) return sheetData;
  if (statsLoaded) return sheetData;
  statsLoading = true;
  try {
    const res = await fetch(STATS_API + '?t=' + Date.now());
    const json = await res.json();
    if (Array.isArray(json)) sheetData = json;
    else if (json && Array.isArray(json.data)) sheetData = json.data;
    else if (json && Array.isArray(json.values)) sheetData = json.values;
    else sheetData = [];
    statsLoaded = true;
  } catch (e) {
    console.warn('Stats fetch failed:', e);
    sheetData = [];
    statsLoaded = true;
  }
  statsLoading = false;
  return sheetData;
}

function parseSheet(rows) {
  if (!rows || !rows.length) return { trackRows: [], topViewed: [], topListened: [], topSaved: [], topDownloaded: [], podium: [] };
  const isObj = typeof rows[0] === 'object' && !Array.isArray(rows[0]);
  let dataRows = rows;
  if (!isObj) {
    const first = rows[0];
    if (isNaN(parseFloat(first[3])) && String(first[0]).toLowerCase().includes('title')) {
      dataRows = rows.slice(1);
    }
  }
  const trackRows = [], topViewed = [], topListened = [], topSaved = [], topDownloaded = [], podium = [];
  dataRows.forEach(row => {
    if (!row) return;
    if (isObj) {
      const id = String(row['id'] || row['c'] || row['C'] || '').trim();
      if (id && id !== 'id') {
        trackRows.push({
          trackId: id,
          views: parseInt(row['total-views'] || row['D'] || 0) || 0,
          listens: parseInt(row['total-full-listens'] || row['E'] || 0) || 0,
          saves: parseInt(row['total-saves'] || row['F'] || 0) || 0,
          downloads: parseInt(row['total-downloads'] || row['G'] || 0) || 0,
          score: parseFloat(row['overAll-score'] || row['H'] || 0) || 0,
        });
      }
      const tv = parseInt(row['top-viewed'] || row['J'] || 0) || 0;
      const tl = parseInt(row['top-listened'] || row['K'] || 0) || 0;
      const ts = parseInt(row['top-saved'] || row['L'] || 0) || 0;
      const td = parseInt(row['top-downloaded'] || row['M'] || 0) || 0;
      if (tv) topViewed.push(tv);
      if (tl) topListened.push(tl);
      if (ts) topSaved.push(ts);
      if (td) topDownloaded.push(td);
      const bs = parseFloat(row['BEST-SCORE'] || row['N'] || 0) || 0;
      const bt = String(row['BEST-TRACK'] || row['O'] || '').trim();
      const ba = String(row['BEST-ARTIST'] || row['P'] || '').trim();
      if (bs && bt) podium.push({ score: bs, trackName: bt, artistName: ba });
    } else {
      const id = String(row[2] || '').trim();
      if (id && id !== 'id') {
        trackRows.push({
          trackId: id,
          views: parseInt(row[3]) || 0,
          listens: parseInt(row[4]) || 0,
          saves: parseInt(row[5]) || 0,
          downloads: parseInt(row[6]) || 0,
          score: parseFloat(row[7]) || 0,
        });
      }
      const tv = parseInt(row[9]) || 0;
      const tl = parseInt(row[10]) || 0;
      const ts = parseInt(row[11]) || 0;
      const td = parseInt(row[12]) || 0;
      if (tv) topViewed.push(tv);
      if (tl) topListened.push(tl);
      if (ts) topSaved.push(ts);
      if (td) topDownloaded.push(td);
      const bs = parseFloat(row[13]) || 0;
      const bt = String(row[14] || '').trim();
      const ba = String(row[15] || '').trim();
      if (bs && bt) podium.push({ score: bs, trackName: bt, artistName: ba });
    }
  });
  return { trackRows, topViewed, topListened, topSaved, topDownloaded, podium };
}

function buildStatsLookup(trackRows) {
  const lookup = {};
  trackRows.forEach(r => { if (r.trackId) lookup[r.trackId] = r; });
  return lookup;
}

function findTrackByStatId(statId) {
  for (const album of ALBUMS) {
    for (let i = 0; i < album.tracks.length; i++) {
      const t = album.tracks[i];
      if (t.statId && t.statId === statId) return { track: t, album, origIdx: i };
    }
  }
  return null;
}

function findTrackByName(trackName, artistName) {
  for (const album of ALBUMS) {
    if (artistName && !album.artist.toLowerCase().includes(artistName.toLowerCase()) &&
      !(album.primaryArtist || '').toLowerCase().includes(artistName.toLowerCase())) continue;
    for (let i = 0; i < album.tracks.length; i++) {
      const t = album.tracks[i];
      if (t.name.toLowerCase().includes(trackName.toLowerCase()) ||
        trackName.toLowerCase().includes(t.name.toLowerCase())) {
        return { track: t, album, origIdx: i };
      }
    }
  }
  for (const album of ALBUMS) {
    for (let i = 0; i < album.tracks.length; i++) {
      const t = album.tracks[i];
      if (t.name.toLowerCase().includes(trackName.toLowerCase()) ||
        trackName.toLowerCase().includes(t.name.toLowerCase())) {
        return { track: t, album, origIdx: i };
      }
    }
  }
  return null;
}

function countTrackIds() {
  let released = new Set(), unreleased = new Set();
  for (const album of ALBUMS) {
    for (const t of album.tracks) {
      if (!t.statId) continue;
      if (t.statId.startsWith('#')) released.add(t.statId);
      else if (t.statId.startsWith('$')) unreleased.add(t.statId);
    }
  }
  return { released: released.size, unreleased: unreleased.size };
}

const STATS_POST_API = "https://script.google.com/macros/s/AKfycbwbOjxHcujPPF2GKZuMmq5-fisDnVkwsZCpUpGaEFPnHiJ-LVy8biGo5OUg9hYVaag4/exec";

function localStatGet(type, statId) { if (!statId) return true; return localStorage.getItem(`ss_${type}_${statId}`) === '1'; }
function localStatSet(type, statId) { if (!statId) return; localStorage.setItem(`ss_${type}_${statId}`, '1'); }

async function postStatIncrement(statId, field) {
  if (!statId) return;
  try {
    await fetch(STATS_POST_API, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ action: 'increment', trackId: statId, field })
    });
  } catch (e) { console.warn('Stat post failed', e.message); }
}

function recordTrackView(statId) {
  const u = getCurrentUser(); if (!u || !statId) return;
  if (localStatGet('v', statId)) return;
  localStatSet('v', statId); postStatIncrement(statId, 'views');
}

let _listenStartStatId = null, _listenStarted = false;
function onTrackPlayStart(statId, duration) {
  if (!duration || duration < 1) { _listenStarted = false; return; }
  _listenStartStatId = statId; _listenStarted = true;
}
function onTrackFullListenComplete() {
  const u = getCurrentUser(); if (!u || !_listenStarted || !_listenStartStatId) return;
  const statId = _listenStartStatId; _listenStarted = false; _listenStartStatId = null;
  if (localStatGet('l', statId)) return;
  localStatSet('l', statId); postStatIncrement(statId, 'listens');
}

function recordTrackDownload(statId) {
  const u = getCurrentUser(); if (!u || !statId) return false;
  if (localStatGet('d', statId)) return true;
  localStatSet('d', statId); postStatIncrement(statId, 'downloads'); return true;
}
function hasDownloaded(statId) { if (!statId) return false; return localStatGet('d', statId); }

async function loadAndRenderStats() {
  const rows = await fetchSheetData();
  const parsed = parseSheet(rows);
  const lookup = buildStatsLookup(parsed.trackRows);
  const counts = countTrackIds();
  let releasedMatches = new Set(), unreleasedMatches = new Set();
  Object.keys(lookup).forEach(id => {
    if (id.startsWith('#')) releasedMatches.add(id);
    else if (id.startsWith('$')) unreleasedMatches.add(id);
  });
  const relSpan = document.getElementById('releasedCountSpan');
  const unrelSpan = document.getElementById('unreleasedCountSpan');
  if (relSpan) relSpan.textContent = `(${releasedMatches.size || counts.released} tracks)`;
  if (unrelSpan) unrelSpan.textContent = `(${unreleasedMatches.size || counts.unreleased} tracks)`;
  renderPodium(parsed.podium);
  renderTop100Preview(parsed);
}

function renderPodium(podiumRows) {
  const podiumRow = document.getElementById('podiumRow');
  if (!podiumRow) return;
  const top3 = [...podiumRows].sort((a, b) => b.score - a.score).slice(0, 3);
  if (!top3.length) { podiumRow.innerHTML = '<div style="color:var(--muted);font-family:\'Space Mono\',monospace;font-size:12px;">No score data available yet</div>'; return; }
  const classes = ['gold', 'silver', 'bronze'];
  const labels = ['BEST SCORE', '2nd PLACE', '3rd PLACE'];
  const order = top3.length >= 3 ? [1, 0, 2] : top3.map((_, i) => i);
  podiumRow.innerHTML = '';
  order.forEach(idx => {
    if (idx >= top3.length) return;
    const item = top3[idx];
    const info = findTrackByName(item.trackName, item.artistName);
    const card = document.createElement('div');
    card.className = `podium-card ${classes[idx]}`;
    card.innerHTML = `<div class="podium-cover-wrapper"><img class="podium-cover" src="${info ? info.album.cover : ''}" onerror="this.style.background='#222'"/></div><div class="podium-rank">${labels[idx]}</div><div class="podium-track">${item.trackName}</div><div class="podium-artist">${item.artistName}</div><div class="podium-score">${item.score.toFixed ? item.score.toFixed(1) : item.score}</div>`;
    if (info) { card.style.cursor = 'pointer'; card.addEventListener('click', () => openAlbum(info.album.id)); }
    podiumRow.appendChild(card);
  });
}

function renderTop100Preview(parsed) {
  const grid = document.getElementById('top100Grid');
  if (!grid) return;
  const byViews = [...parsed.trackRows].filter(r => r.views > 0).sort((a, b) => b.views - a.views).slice(0, 6);
  const byListens = [...parsed.trackRows].filter(r => r.listens > 0).sort((a, b) => b.listens - a.listens).slice(0, 6);
  const bySaves = [...parsed.trackRows].filter(r => r.saves > 0).sort((a, b) => b.saves - a.saves).slice(0, 6);
  const byDownloads = [...parsed.trackRows].filter(r => r.downloads > 0).sort((a, b) => b.downloads - a.downloads).slice(0, 6);
  const categories = [
    { key: 'views', label: 'Top Viewed', icon: 'fa-eye', color: '#00e5ff', rows: byViews },
    { key: 'listens', label: 'Top Listened', icon: 'fa-headphones', color: '#a259ff', rows: byListens },
    { key: 'saves', label: 'Top Saved', icon: 'fa-heart', color: '#ff6b6b', rows: bySaves },
    { key: 'downloads', label: 'Top Downloaded', icon: 'fa-download', color: '#51cf66', rows: byDownloads },
  ];
  grid.innerHTML = '';
  categories.forEach(cat => {
    const card = document.createElement('div');
    card.className = 'top100-card';
    card.innerHTML = `<div class="top100-card-header"><div class="top100-card-title" style="color:${cat.color}"><i class="fas ${cat.icon}"></i>${cat.label}</div></div><div class="top100-list" id="top100list_${cat.key}"></div>`;
    grid.appendChild(card);
    const list = document.getElementById(`top100list_${cat.key}`);
    if (!cat.rows.length) { list.innerHTML = '<div style="padding:12px 14px;color:var(--muted);font-family:\'Space Mono\',monospace;font-size:11px;">No data yet</div>'; return; }
    cat.rows.forEach((item, i) => {
      const info = findTrackByStatId(item.trackId);
      const numClass = i === 0 ? 'top1' : i === 1 ? 'top2' : i === 2 ? 'top3' : '';
      const val = item[cat.key];
      const valStr = val >= 1000000 ? (val / 1000000).toFixed(1) + 'M' : val >= 1000 ? (val / 1000).toFixed(1) + 'k' : String(val);
      const row = document.createElement('div');
      row.className = 'top100-row';
      row.innerHTML = `<div class="top100-num ${numClass}">${i + 1}</div><img class="top100-art" src="${info ? info.album.cover : ''}" onerror="this.style.background='#222'"/><div class="top100-info"><div class="top100-name">${info ? info.track.name : item.trackId}</div><div class="top100-sub">${info ? info.album.artist : '—'}</div></div><div class="top100-val" style="color:${cat.color}">${valStr}</div>`;
      if (info) row.addEventListener('click', () => playAlbumFromTrack(info.album.id, info.origIdx));
      list.appendChild(row);
    });
  });
}

let currentFSTab = 'best';
function openFullStats() { document.getElementById('fullStatsOverlay').classList.add('open'); switchFSTab('best'); }
function closeFullStats() { document.getElementById('fullStatsOverlay').classList.remove('open'); }
function switchFSTab(tab) {
  currentFSTab = tab;
  document.querySelectorAll('.fstab').forEach(b => b.classList.remove('active'));
  const tabOrder = ['best', 'views', 'listens', 'saves', 'downloads'];
  const idx = tabOrder.indexOf(tab);
  const tabs = document.querySelectorAll('.fstab');
  if (tabs[idx]) tabs[idx].classList.add('active');
  renderFSTab(tab);
}
async function renderFSTab(tab) {
  const body = document.getElementById('fullStatsBody');
  body.innerHTML = '<div class="fs-loading"><span class="stats-dot"></span>Loading…</div>';
  const rows = await fetchSheetData();
  const parsed = parseSheet(rows);
  body.innerHTML = '';
  if (tab === 'best') {
    const top3 = [...parsed.podium].sort((a, b) => b.score - a.score).slice(0, 3);
    const podiumDiv = document.createElement('div'); podiumDiv.className = 'fs-podium';
    const inner = document.createElement('div'); inner.style.cssText = 'display:flex;gap:10px;margin-bottom:20px;';
    podiumDiv.appendChild(inner); body.appendChild(podiumDiv);
    const classes = ['gold', 'silver', 'bronze']; const labels = ['BEST SCORE', '2nd PLACE', '3rd PLACE'];
    top3.forEach((item, idx) => {
      const info = findTrackByName(item.trackName, item.artistName);
      const card = document.createElement('div'); card.className = `podium-card ${classes[idx]}`; card.style.flex = '1';
      card.innerHTML = `<div class="podium-cover-wrapper"><img class="podium-cover" src="${info ? info.album.cover : ''}" onerror="this.style.background='#222'"/></div><div class="podium-rank">${labels[idx]}</div><div class="podium-track">${item.trackName}</div><div class="podium-artist">${item.artistName}</div><div class="podium-score">${item.score.toFixed ? item.score.toFixed(1) : item.score}</div>`;
      if (info) { card.style.cursor = 'pointer'; card.addEventListener('click', () => { closeFullStats(); openAlbum(info.album.id); }); }
      inner.appendChild(card);
    });
    const sorted = [...parsed.trackRows].filter(r => r.score > 0).sort((a, b) => b.score - a.score);
    if (!sorted.length) { body.innerHTML += '<div class="fs-empty">No score data available</div>'; return; }
    sorted.forEach((item, i) => renderFSRow(body, item, i, 'score', item.score.toFixed ? item.score.toFixed(1) : String(item.score)));
  } else {
    const sorted = [...parsed.trackRows].filter(r => r[tab] > 0).sort((a, b) => b[tab] - a[tab]);
    if (!sorted.length) { body.innerHTML = '<div class="fs-empty">No data available</div>'; return; }
    sorted.forEach((item, i) => {
      const v = item[tab];
      const s = v >= 1000000 ? (v / 1000000).toFixed(1) + 'M' : v >= 1000 ? (v / 1000).toFixed(1) + 'k' : String(v);
      renderFSRow(body, item, i, tab, s);
    });
  }
}
function renderFSRow(container, item, i, key, displayVal) {
  const info = findTrackByStatId(item.trackId);
  const rankClass = i === 0 ? 'r1' : i === 1 ? 'r2' : i === 2 ? 'r3' : '';
  const row = document.createElement('div'); row.className = 'fs-row';
  row.innerHTML = `<div class="fs-rank ${rankClass}">${i + 1}</div><img class="fs-art" src="${info ? info.album.cover : ''}" onerror="this.style.background='#222'"/><div class="fs-info"><div class="fs-name">${info ? info.track.name : item.trackId}</div><div class="fs-sub">${info ? info.album.artist : '—'}${info ? ' · ' + info.album.title : ''}</div></div><div class="fs-val">${displayVal}</div>`;
  if (info) row.addEventListener('click', () => { closeFullStats(); openAlbum(info.album.id); });
  container.appendChild(row);
}
</script>

<script>
// ══════════════════════════════════════════════════════
//  DATA: ALBUMS
// ══════════════════════════════════════════════════════
const ALBUMS=[
{id:"the-college-dropout",title:"The College Dropout",artist:"Kanye West",year:"2004",type:"official",tags:["kanye","west","college","dropout","rap","hip hop","2004"],cover:"https://i.scdn.co/image/ab67616d0000b27325b055377757b3cdd6f26b78",tracks:[
    {name:"Intro (Skit)",file:"../audio/the-college-dropout/tracks/intro.mp3",url:"https://open.spotify.com/track/7lIr3vVhpDkU5mQEDcnA0S",statId:"#CD_INTRO"},
    {name:"We Don't Care",file:"../audio/the-college-dropout/tracks/we-dont-care.mp3",url:"https://open.spotify.com/track/0IW0qaeyxL5Et4UG2MrJKB",statId:"#CD_WDC"},
    {name:"Graduation Day",file:"../audio/the-college-dropout/tracks/graduation-day.mp3",url:"https://open.spotify.com/track/7wL7Lb8Q3aYyq6gmRL0PZqQ",statId:"#CD_GRAD"},
    {name:"All Falls Down",file:"../audio/the-college-dropout/tracks/all-falls-down.mp3",url:"https://open.spotify.com/track/5SkRLpaGtvYPhw02vZhQQ9",statId:"#CD_AFD"},
    {name:"I'll Fly Away",file:"../audio/the-college-dropout/tracks/fly-away.mp3",url:"https://open.spotify.com/track/6MgGapP3EPFm9kYUvYBTZR",statId:"#CD_IFA"},
    {name:"Spaceship",file:"../audio/the-college-dropout/tracks/spaceship.mp3",url:"https://open.spotify.com/track/1ko2NuvWlQdxtNRc8QQzmT",statId:"#CD_SPACE"},
    {name:"Jesus Walks",file:"../audio/the-college-dropout/tracks/jesuswalks.mp3",url:"https://open.spotify.com/track/5g1vtHqi9uV7xtYeCcFOBx",statId:"#CD_JW"},
    {name:"Never Let Me Down",file:"../audio/the-college-dropout/tracks/never-let-me-down.mp3",url:"https://open.spotify.com/track/34j4OxJxKznBs88cjSL2j9",statId:"#CD_NLMD"},
    {name:"Get Em High",file:"../audio/the-college-dropout/tracks/get-em-high.mp3",url:"https://open.spotify.com/track/1PS1QMdUqOal0ai3Gt7sDQ",statId:"#CD_GEH"},
    {name:"Workout Plan (Skit)",file:"../audio/the-college-dropout/tracks/workout-plan.mp3",url:"https://open.spotify.com/track/2a1JSfTePKhysdIif2bzut",statId:"#CD_WPS"},
    {name:"The New Workout Plan",file:"../audio/the-college-dropout/tracks/new-workout-plan.mp3",url:"https://open.spotify.com/track/1Vp4St7JcXaUoJcIahtf3L",statId:"#CD_TNWP"},
    {name:"Slow Jamz",file:"../audio/the-college-dropout/tracks/slow-jamz.mp3",url:"https://open.spotify.com/track/3A4cpTBPaIQdtPFb5JxtaX",statId:"#CD_SJ"},
    {name:"Breathe In Breathe Out",file:"../audio/the-college-dropout/tracks/bibo.mp3",url:"https://open.spotify.com/track/4KFY4EEv9CN6ivrzD6vEvg",statId:"#CD_BIBO"},
    {name:"School Spirit (Skit 1)",file:"../audio/the-college-dropout/tracks/school-spirit-skit-1.mp3",url:"https://open.spotify.com/track/25mwJPzWVmS2yronBNQJF1",statId:"#CD_SSS1"},
    {name:"School Spirit",file:"../audio/the-college-dropout/tracks/school-spirit.mp3",url:"https://open.spotify.com/track/1th3G3okofWlvGWAAR7Y4V",statId:"#CD_SS"},
    {name:"School Spirit (Skit 2)",file:"../audio/the-college-dropout/tracks/school-spirit-skit-2.mp3",url:"https://open.spotify.com/track/5MAY7XyW322jMwLDtBQgsZ",statId:"#CD_SSS2"},
    {name:"Lil Jimmy (Skit)",file:"../audio/the-college-dropout/tracks/lil-jimmy-skit.mp3",url:"https://open.spotify.com/track/4BhwlQ9mTwhFGXpQvP9JTV"},
    {name:"Two Words",file:"../audio/the-college-dropout/tracks/2words.mp3",url:"https://open.spotify.com/track/62wtttQzoIA9HnNmGVd9Yq",statId:"#CD_2W"},
    {name:"Through the Wire",file:"../audio/the-college-dropout/tracks/through-the-wire.mp3",url:"https://open.spotify.com/track/4mmkhcEm1Ljy1U9nwtsxUo",statId:"#CD_TTW"},
    {name:"Family Business",file:"../audio/the-college-dropout/tracks/family-business.mp3",url:"https://open.spotify.com/track/5DBmXF7QO43Cuy9yqva116",statId:"#CD_FB"},
    {name:"Last Call",file:"../audio/the-college-dropout/tracks/lastcall.mp3",url:"https://open.spotify.com/track/7iOhWWYjhhQiXzF4o4HhXN",statId:"#CD_LC"}
]},
{id:"late-registration",title:"Late Registration",artist:"Kanye West",year:"2005",type:"official",tags:["kanye","west","late","registration","gold digger","diamonds","rap","hip hop","2005"],cover:"https://upload.wikimedia.org/wikipedia/en/thumb/f/f4/Late_registration_cd_cover.jpg/250px-Late_registration_cd_cover.jpg",tracks:[
    {name:"Wake Up Mr. West (Skit)",file:"../audio/late-registration/tracks/wake-up-mr_west.mp3"},{name:"Heard 'Em Say",file:"../audio/late-registration/tracks/heard-em-say.mp3",statId:"#LR_HES"},{name:"Touch the Sky",file:"../audio/late-registration/tracks/touch-the-sky.mp3",statId:"#LR_TTS"},
    {name:"Gold Digger",file:"../audio/late-registration/tracks/gold-digger.mp3",statId:"#LR_GD"},{name:"Drive Slow",file:"../audio/late-registration/tracks/drive-slow.mp3",statId:"#LR_DS"},{name:"My Way Home (Skit)",file:"../audio/late-registration/tracks/my-way-home-skit.mp3"},
    {name:"Crack Music",file:"../audio/late-registration/tracks/crack-music.mp3",statId:"#LR_CM"},{name:"Roses",file:"../audio/late-registration/tracks/roses.mp3",statId:"#LR_ROSES"},{name:"Bring Me Down",file:"../audio/late-registration/tracks/bring-me-down.mp3",statId:"#LR_BMD"},
    {name:"Addiction",file:"../audio/late-registration/tracks/addiction.mp3",statId:"#LR_ADD"},{name:"Diamonds from Sierra Leone (Remix)",file:"../audio/late-registration/tracks/diamonds.mp3",statId:"#LR_DIAM"},
    {name:"We Major",file:"../audio/late-registration/tracks/we-major.mp3",statId:"#LR_WM"},{name:"Hey Mama",file:"../audio/late-registration/tracks/hey-mama.mp3",statId:"#LR_HM"},{name:"Celebration",file:"../audio/late-registration/tracks/celebration.mp3",statId:"#LR_CEL"},
    {name:"Gone",file:"../audio/late-registration/tracks/gone.mp3",statId:"#LR_GONE"},{name:"Late",file:"../audio/late-registration/tracks/late.mp3",statId:"#LR_LATE"},{name:"Number One",file:"../audio/late-registration/tracks/number-one.mp3",statId:"#LR_N1"},{name:"We Can Make It Better",file:"../audio/late-registration/tracks/we-can-make-it.mp3",statId:"#LR_WCMIB"}
]},
{id:"graduation",title:"Graduation",artist:"Kanye West",year:"2007",type:"official",tags:["kanye","west","graduation","stronger","good morning","rap","hip hop","2007"],cover:"https://m.media-amazon.com/images/I/71pxGj4RoVS._AC_UF894,1000_QL80_.jpg",tracks:[
    {name:"Good Morning",file:"../audio/graduation/tracks/good-morning.mp3",statId:"#GR_GM"},{name:"Champion",file:"../audio/graduation/tracks/champion.mp3",statId:"#GR_CHAMP"},{name:"Stronger",file:"../audio/graduation/tracks/stronger.mp3",statId:"#GR_STR"},
    {name:"I Wonder",file:"../audio/graduation/tracks/i-wonder.mp3",statId:"#GR_IW"},{name:"Good Life",file:"../audio/graduation/tracks/good-life.mp3",statId:"#GR_GL"},{name:"Can't Tell Me Nothing",file:"../audio/graduation/tracks/cant-tell-me-nothing.mp3",statId:"#GR_CTMN"},
    {name:"Barry Bonds",file:"../audio/graduation/tracks/barry-bonds.mp3",statId:"#GR_BB"},{name:"Drunk and Hot Girls",file:"../audio/graduation/tracks/drunk-hot-girls.mp3",statId:"#GR_DHG"},{name:"Flashing Lights",file:"../audio/graduation/tracks/flashing-lights.mp3",statId:"#GR_FL"},
    {name:"Everything I Am",file:"../audio/graduation/tracks/everything-i-am.mp3",statId:"#GR_EIA"},{name:"The Glory",file:"../audio/graduation/tracks/the-glory.mp3",statId:"#GR_TG"},{name:"Homecoming",file:"../audio/graduation/tracks/homecoming.mp3",statId:"#GR_HC"},{name:"Big Brother",file:"../audio/graduation/tracks/big-brother.mp3",statId:"#GR_BIG"}
]},
{id:"808s",title:"808s & Heartbreak",artist:"Kanye West",year:"2008",type:"official",tags:["kanye","west","808s","heartbreak","heartless","love lockdown","autotune","rap","pop","2008"],cover:"https://m.media-amazon.com/images/I/51-HCBAsFRL._UF1000,1000_QL80_.jpg",tracks:[
    {name:"Say You Will",file:"../audio/808s-n-heartbreak/tracks/say-you-will.mp3",statId:"#808_SYW"},{name:"Welcome to Heartbreak",file:"../audio/808s-n-heartbreak/tracks/welcome-to-heartbreak.mp3",statId:"#808_WTH"},{name:"Heartless",file:"../audio/808s-n-heartbreak/tracks/heartless.mp3",statId:"#808_HL"},
    {name:"Amazing",file:"../audio/808s-n-heartbreak/tracks/amazing.mp3",statId:"#808_AMAZ"},{name:"Love Lockdown",file:"../audio/808s-n-heartbreak/tracks/love-lockdown.mp3",statId:"#808_LL"},{name:"Paranoid",file:"../audio/808s-n-heartbreak/tracks/paranoid.mp3",statId:"#808_PAR"},
    {name:"RoboCop",file:"../audio/808s-n-heartbreak/tracks/robocop.mp3",statId:"#808_RC"},{name:"Street Lights",file:"../audio/808s-n-heartbreak/tracks/street-lights.mp3",statId:"#808_SL"},{name:"Bad News",file:"../audio/808s-n-heartbreak/tracks/bad-news.mp3",statId:"#808_BN"},
    {name:"See You in My Nightmares",file:"../audio/808s-n-heartbreak/tracks/see-you-in-my-nightmares.mp3",statId:"#808_SYMN"},{name:"Coldest Winter",file:"../audio/808s-n-heartbreak/tracks/coldest-winter.mp3",statId:"#808_CW"},{name:"Pinocchio Story (Live)",file:"../audio/808s-n-heartbreak/tracks/pinocchio-story.mp3",statId:"#808_PS"}
]},
{id:"mbdtf",title:"My Beautiful Dark Twisted Fantasy",artist:"Kanye West",year:"2010",type:"official",tags:["kanye","west","mbdtf","beautiful","dark","twisted","fantasy","runaway","power","rap","hip hop","2010"],cover:"https://i.scdn.co/image/ab67616d0000b273d9194aa18fa4c9362b47464f",tracks:[
    {name:"Dark Fantasy",file:"../audio/mbdtf/tracks/dark-fantasy.mp3",statId:"#MBDTF_DF"},{name:"Gorgeous",file:"../audio/mbdtf/tracks/gorgeous.mp3",statId:"#MBDTF_GOR"},{name:"POWER",file:"../audio/mbdtf/tracks/power.mp3",statId:"#MBDTF_PWR"},
    {name:"All of the Lights (Interlude)",file:"../audio/mbdtf/tracks/all-of-lights-interlude.mp3",statId:"#MBDTF_AOLI"},{name:"All of the Lights",file:"../audio/mbdtf/tracks/all-of-lights.mp3",statId:"#MBDTF_AOL"},
    {name:"Monster",file:"../audio/mbdtf/tracks/monster.mp3",statId:"#MBDTF_MON"},{name:"So Appalled",file:"../audio/mbdtf/tracks/so-appalled.mp3",statId:"#MBDTF_SA"},{name:"Devil in a New Dress",file:"../audio/mbdtf/tracks/devil-new-dress.mp3",statId:"#MBDTF_DIAND"},
    {name:"Runaway",file:"../audio/mbdtf/tracks/runaway.mp3",statId:"#MBDTF_RUN"},{name:"Hell of a Life",file:"../audio/mbdtf/tracks/hell-of-a-life.mp3",statId:"#MBDTF_HOAL"},{name:"Blame Game",file:"../audio/mbdtf/tracks/blame-game.mp3",statId:"#MBDTF_BG"},
    {name:"Lost in the World",file:"../audio/mbdtf/tracks/lost-in-the-world.mp3",statId:"#MBDTF_LITW"},{name:"Who Will Survive in America",file:"../audio/mbdtf/tracks/who-will-survive.mp3",statId:"#MBDTF_WWSIA"}
]},
{id:"watch-throne",title:"Watch the Throne",artist:"Jay-Z",primaryArtist:"Kanye West",featuredArtists:["Jay-Z"],year:"2011",type:"official",tags:["kanye","west","jayz","watch","throne","niggas in paris","rap","hip hop","2011"],cover:"https://upload.wikimedia.org/wikipedia/en/thumb/e/ee/Watch_The_Throne.jpg/250px-Watch_The_Throne.jpg",tracks:[
    {name:"No Church in the Wild",file:"../audio/watch-the-thrown/tracks/no-church.mp3",statId:"#WTT_NCITW"},{name:"Lift Off",file:"../audio/watch-the-thrown/tracks/lift-off.mp3",statId:"#WTT_LO"},{name:"Niggas in Paris",file:"../audio/watch-the-thrown/tracks/niggas-in-paris.mp3",statId:"#WTT_NIP"},
    {name:"Otis",file:"../audio/watch-the-thrown/tracks/otis.mp3",statId:"#WTT_OTIS"},{name:"Gotta Have It",file:"../audio/watch-the-thrown/tracks/gotta-have-it.mp3",statId:"#WTT_GHI"},{name:"New Day",file:"../audio/watch-the-thrown/tracks/new-day.mp3",statId:"#WTT_ND"},
    {name:"That's My Bitch",file:"../audio/watch-the-thrown/tracks/thats-my-bitch.mp3",statId:"#WTT_TMB"},{name:"Welcome to the Jungle",file:"../audio/watch-the-thrown/tracks/welcome-jungle.mp3",statId:"#WTT_WTTJ"},{name:"Who Gon Stop Me",file:"../audio/watch-the-thrown/tracks/who-gon-stop-me.mp3",statId:"#WTT_WGSM"},
    {name:"Murder to Excellence",file:"../audio/watch-the-thrown/tracks/murder-excellence.mp3",statId:"#WTT_MTE"},{name:"Sweet Baby Jesus",file:"../audio/watch-the-thrown/tracks/sweet-baby-jesus.mp3"},{name:"Why I Love You",file:"../audio/watch-the-thrown/tracks/why-i-love-you.mp3",statId:"#WTT_WILY"},
    {name:"H•A•M",file:"../audio/watch-the-thrown/tracks/ham.mp3",statId:"#WTT_HAM"},{name:"Primetime",file:"../audio/watch-the-thrown/tracks/primetime.mp3",statId:"#WTT_PT"},{name:"The Joy",file:"../audio/watch-the-thrown/tracks/the-joy.mp3",statId:"#WTT_TJ"}
]},
{id:"cruel-summer",title:"Cruel Summer",artist:"GOOD Music",primaryArtist:"Kanye West",featuredArtists:["Big Sean","2 Chainz","John Legend","Teyana Taylor"],year:"2012",type:"official",tags:["kanye","west","good","music","cruel","summer","mercy","clique","rap","hip hop","2012"],cover:"https://upload.wikimedia.org/wikipedia/en/thumb/a/ab/CruelSummercover.jpg/250px-CruelSummercover.jpg",tracks:[
    {name:"To the World",file:"../audio/cruel-summer/tracks/to-the-world.mp3",statId:"#CS_TTW"},{name:"Mercy",file:"../audio/cruel-summer/tracks/mercy.mp3",statId:"#CS_MERCY"},{name:"New God Flow",file:"../audio/cruel-summer/tracks/new-god-flow.mp3",statId:"#CS_NGF"},
    {name:"Clique",file:"../audio/cruel-summer/tracks/clique.mp3",statId:"#CS_CLIQUE"},{name:"Bliss",file:"../audio/cruel-summer/tracks/bliss.mp3",statId:"#CS_BLISS"},{name:"Cruel Summer",file:"../audio/cruel-summer/tracks/cruel-summer.mp3",statId:"#CS_CS"},
    {name:"Higher",file:"../audio/cruel-summer/tracks/higher.mp3",statId:"#CS_HIGH"},{name:"Don't Like (Remix)",file:"../audio/cruel-summer/tracks/dont-like.mp3",statId:"#CS_DL"},{name:"The Morning",file:"../audio/cruel-summer/tracks/the-morning.mp3",statId:"#CS_TM"},
    {name:"Cold",file:"../audio/cruel-summer/tracks/cold.mp3",statId:"#CS_COLD"},{name:"Sweet Baby Jesus",file:"../audio/cruel-summer/tracks/sweet-baby-jesus.mp3",statId:"#CS_SBJ"},{name:"Sin City",file:"../audio/cruel-summer/tracks/sin-city.mp3",statId:"#CS_SC"},
    {name:"Way Too Cold",file:"../audio/cruel-summer/tracks/way-too-cold.mp3",statId:"#CS_WTC"},{name:"Creepers",file:"../audio/cruel-summer/tracks/creepers.mp3",statId:"#CS_CREEP"}
]},
{id:"yeezus",title:"Yeezus",artist:"Kanye West",year:"2013",type:"official",tags:["kanye","west","yeezus","bound 2","new slaves","black skinhead","rap","industrial","2013"],cover:"https://m.media-amazon.com/images/I/516qybuOZhL._UF1000,1000_QL80_.jpg",tracks:[
    {name:"On Sight",file:"../audio/YEEZUS/tracks/on-sight.mp3",statId:"#YZ_OS"},{name:"Black Skinhead",file:"../audio/YEEZUS/tracks/black-skinhead.mp3",statId:"#YZ_BSH"},{name:"I Am a God",file:"../audio/YEEZUS/tracks/i-am-a-god.mp3",statId:"#YZ_IAAG"},
    {name:"New Slaves",file:"../audio/YEEZUS/tracks/new-slaves.mp3",statId:"#YZ_NS"},{name:"Hold My Liquor",file:"../audio/YEEZUS/tracks/hold-my-liquor.mp3",statId:"#YZ_HML"},{name:"I'm in It",file:"../audio/YEEZUS/tracks/im-in-it.mp3",statId:"#YZ_III"},
    {name:"Blood on the Leaves",file:"../audio/YEEZUS/tracks/blood-on-leaves.mp3",statId:"#YZ_BOTL"},{name:"Guilt Trip",file:"../audio/YEEZUS/tracks/guilt-trip.mp3",statId:"#YZ_GT"},{name:"Send It Up",file:"../audio/YEEZUS/tracks/send-it-up.mp3",statId:"#YZ_SIU"},
    {name:"Bound 2",file:"../audio/YEEZUS/tracks/bound-2.mp3",statId:"#YZ_B2"}
]},
{id:"tlop",title:"The Life of Pablo",artist:"Kanye West",year:"2016",type:"official",tags:["kanye","west","pablo","tlop","ultralight beam","famous","fade","rap","gospel","2016"],cover:"https://preview.redd.it/puu7vsw10fb01.png?width=640&crop=smart&auto=webp&s=cef42bec02f7a6064349d8cfd34df097bfe12ade",tracks:[
    {name:"Ultralight Beam",file:"../audio/the-life-of-pablo/tracks/ultralight-beam.mp3",statId:"#TLOP_UB"},{name:"Father Stretch My Hands Pt. 1",file:"../audio/the-life-of-pablo/tracks/fsmh-pt1.mp3",statId:"#TLOP_FSMH1"},
    {name:"Pt. 2",file:"../audio/the-life-of-pablo/tracks/fsmh-pt2.mp3",statId:"#TLOP_FSMH2"},{name:"Famous",file:"../audio/the-life-of-pablo/tracks/famous.mp3",statId:"#TLOP_FAM"},{name:"Feedback",file:"../audio/the-life-of-pablo/tracks/feedback.mp3",statId:"#TLOP_FB"},
    {name:"Low Lights",file:"../audio/the-life-of-pablo/tracks/low-lights.mp3",statId:"#TLOP_LL"},{name:"Highlights",file:"../audio/the-life-of-pablo/tracks/highlights.mp3",statId:"#TLOP_HL"},{name:"Freestyle 4",file:"../audio/the-life-of-pablo/tracks/freestyle-4.mp3",statId:"#TLOP_F4"},
    {name:"I Love Kanye",file:"../audio/the-life-of-pablo/tracks/i-love-kanye.mp3",statId:"#TLOP_ILK"},{name:"Waves",file:"../audio/the-life-of-pablo/tracks/waves.mp3",statId:"#TLOP_WAV"},{name:"FML",file:"../audio/the-life-of-pablo/tracks/fml.mp3",statId:"#TLOP_FML"},
    {name:"Real Friends",file:"../audio/the-life-of-pablo/tracks/real-friends.mp3",statId:"#TLOP_RF"},{name:"Wolves",file:"../audio/the-life-of-pablo/tracks/wolves.mp3",statId:"#TLOP_WLV"},{name:"Frank's Track",file:"../audio/the-life-of-pablo/tracks/franks-track,mp3"},
    {name:"Siiiiiiiiilver Surfffter Surffffff",file:"../audio/the-life-of-pablo/tracks/silver-surfer.mp3",statId:"#TLOP_SS"},{name:"30 Hours",file:"../audio/the-life-of-pablo/tracks/30-hours.mp3",statId:"#TLOP_30H"},
    {name:"No More Parties in LA",file:"../audio/the-life-of-pablo/tracks/no-more-parties.mp3",statId:"#TLOP_NMPLA"},{name:"Facts (Charlie Heat Version)",file:"../audio/the-life-of-pablo/tracks/facts.mp3",statId:"#TLOP_FACTS"},
    {name:"Fade",file:"../audio/the-life-of-pablo/tracks/fade.mp3",statId:"#TLOP_FADE"},{name:"Saint Pablo",file:"../audio/the-life-of-pablo/tracks/saint-pablo.mp3",statId:"#TLOP_SP"}
]},
{id:"ye",title:"ye",artist:"Kanye West",year:"2018",type:"official",tags:["kanye","west","ye","yikes","ghost town","violent crimes","rap","2018"],cover:"https://upload.wikimedia.org/wikipedia/en/7/74/Ye_album_cover.jpg",tracks:[
    {name:"I Thought About Killing You",file:"../audio/ye/tracks/i-thought-about.mp3",statId:"#YE_ITAKY"},{name:"Yikes",file:"../audio/ye/tracks/yikes.mp3",statId:"#YE_YK"},{name:"All Mine",file:"../audio/ye/tracks/all-mine.mp3",statId:"#YE_AM"},
    {name:"Wouldn't Leave",file:"../audio/ye/tracks/wouldnt-leave.mp3",statId:"#YE_WL"},{name:"No Mistakes",file:"../audio/ye/tracks/no-mistakes.mp3",statId:"#YE_NM"},{name:"Ghost Town",file:"../audio/ye/tracks/ghost-town.mp3",statId:"#YE_GT"},
    {name:"Violent Crimes",file:"../audio/ye/tracks/violent-crimes.mp3",statId:"#YE_VC"}
]},
{id:"kids-see-ghosts",title:"Kids See Ghosts",artist:"Kids See Ghosts",primaryArtist:"Kanye West",featuredArtists:["Kid Cudi"],year:"2018",type:"official",tags:["kanye","west","cudi","kids","see","ghosts","reborn","rap","2018"],cover:"https://upload.wikimedia.org/wikipedia/en/4/44/Kids_See_Ghosts_Cover.png",tracks:[
    {name:"Feel the Love",file:"../audio/kids-see-ghosts/tracks/feel-the-love.mp3",statId:"#KSG_FTL"},
    {name:"Fire",file:"../audio/kids-see-ghosts/tracks/fire.mp3",statId:"#KSG_FIRE"},
    {name:"4th Dimension",file:"../audio/kids-see-ghosts/tracks/4th-dimension.mp3",statId:"#KSG_4D"},
    {name:"Freeee (Ghost Town Pt. 2)",file:"../audio/kids-see-ghosts/tracks/freeee.mp3",statId:"#KSG_FREE"},
    {name:"Reborn",file:"../audio/kids-see-ghosts/tracks/reborn.mp3",statId:"#KSG_REB"},
    {name:"Kids See Ghosts",file:"../audio/kids-see-ghosts/tracks/kids-see-ghosts.mp3",statId:"#KSG_KSG"},
    {name:"Cudi Montage",file:"../audio/kids-see-ghosts/tracks/cudi-montage.mp3",statId:"#KSG_CM"}
]},
{id:"jesus-is-king",title:"Jesus Is King",artist:"Kanye West",year:"2019",type:"official",tags:["kanye","west","jesus","king","gospel","follow god","closed on sunday","rap","2019"],cover:"https://media.pitchfork.com/photos/5db73da8fd8a1f0009ad5c80/master/pass/jesusisking_kanye.jpg",tracks:[
    {name:"Every Hour",file:"../audio/jesus-is-king/tracks/every-hour.mp3",statId:"#JIK_EH"},
    {name:"Follow God",file:"../audio/jesus-is-king/tracks/follow-god.mp3",statId:"#JIK_FG"},
    {name:"Closed on Sunday",file:"../audio/jesus-is-king/tracks/closed-on-sunday.mp3",statId:"#JIK_COS"},
    {name:"On God",file:"../audio/jesus-is-king/tracks/on-god.mp3",statId:"#JIK_OG"},
    {name:"Everything We Need",file:"../audio/jesus-is-king/tracks/everything-we-need.mp3",statId:"#JIK_EWN"},
    {name:"Water",file:"../audio/jesus-is-king/tracks/water.mp3",statId:"#JIK_WAT"},
    {name:"God Is",file:"../audio/jesus-is-king/tracks/god-is.mp3",statId:"#JIK_GI"},
    {name:"Hands On",file:"../audio/jesus-is-king/tracks/hands-on.mp3",statId:"#JIK_HO"},
    {name:"Use This Gospel",file:"../audio/jesus-is-king/tracks/use-this-gospel.mp3",statId:"#JIK_UTG"},
    {name:"Jesus Is Lord",file:"../audio/jesus-is-king/tracks/jesus-is-lord.mp3",statId:"#JIK_JIL"}
]},
{id:"donda",title:"Donda",artist:"Kanye West",year:"2021",type:"official",tags:["kanye","west","donda","off the grid","hurricane","praise god","jail","rap","gospel","2021"],cover:"https://i.redd.it/jvst2ity53d51.jpg",tracks:[
    {name:"Donda Chant",file:"../audio/donda/tracks/donda-chant.mp3",statId:"#DON_DC"},{name:"Jail",file:"../audio/donda/tracks/jail.mp3",statId:"#DON_JAIL"},{name:"God Breathed",file:"../audio/donda/tracks/god-breathed.mp3",statId:"#DON_GB"},
    {name:"Off the Grid",file:"../audio/donda/tracks/off-the-grid.mp3",statId:"#DON_OTG"},{name:"Hurricane",file:"../audio/donda/tracks/hurricane.mp3",statId:"#DON_HUR"},{name:"Praise God",file:"../audio/donda/tracks/praise-god.mp3",statId:"#DON_PG"},
    {name:"Jonah",file:"../audio/donda/tracks/jonah.mp3",statId:"#DON_JON"},{name:"Ok Ok",file:"../audio/donda/tracks/ok-ok.mp3",statId:"#DON_OO"},{name:"Junya",file:"../audio/donda/tracks/junya.mp3",statId:"#DON_JUN"},
    {name:"Believe What I Say",file:"../audio/donda/tracks/believe-what-i-say.mp3",statId:"#DON_BWIS"},{name:"24",file:"../audio/donda/tracks/24.mp3",statId:"#DON_24"},{name:"Remote Control",file:"../audio/donda/tracks/remote-control.mp3",statId:"#DON_RC"},
    {name:"Moon",file:"../audio/donda/tracks/moon.mp3",statId:"#DON_MOON"},{name:"Heaven and Hell",file:"../audio/donda/tracks/heaven-and-hell.mp3",statId:"#DON_HAH"},{name:"Donda",file:"../audio/donda/tracks/donda-title.mp3",statId:"#DON_DON"},
    {name:"Pure Souls",file:"../audio/donda/tracks/pure-souls.mp3",statId:"#DON_PS"},{name:"Come to Life",file:"../audio/donda/tracks/come-to-life.mp3",statId:"#DON_CTL"},{name:"No Child Left Behind",file:"../audio/donda/tracks/no-child.mp3",statId:"#DON_NCLB"},
    {name:"Jail pt 2",file:"../audio/donda/tracks/jail-pt2.mp3",statId:"#DON_JAIL2"},{name:"Jesus Lord",file:"../audio/donda/tracks/jesus-lord.mp3",statId:"#DON_JL"},{name:"New Again",file:"../audio/donda/tracks/new-again.mp3",statId:"#DON_NA"},
    {name:"Tell the Vision",file:"../audio/donda/tracks/tell-the-vision.mp3",statId:"#DON_TTV"},{name:"Lord I Need You",file:"../audio/donda/tracks/lord-i-need-you.mp3",statId:"#DON_LINY"},{name:"Jail pt 3",file:"../audio/donda/tracks/jail-pt3.mp3"}
]},
{id:"donda-2",title:"Donda 2",artist:"Kanye West",year:"2022",type:"official",tags:["kanye","west","donda","2","stem player","rap","2022"],cover:"https://i.scdn.co/image/ab67616d0000b2736dc675e2b4f4d86b762f3bfa",tracks:[
    {name:"Sci Fi",file:"../audio/donda-2/tracks/sci-fi.mp3",statId:"#D2_SF"},{name:"True Love",file:"../audio/donda-2/tracks/true-love.mp3",statId:"#D2_TL"},{name:"Security",file:"../audio/donda-2/tracks/security.mp3",statId:"#D2_SEC"},
    {name:"Too Easy",file:"../audio/donda-2/tracks/too-easy.mp3",statId:"#D2_TE"},{name:"Louie Bags",file:"../audio/donda-2/tracks/louie-bags.mp3",statId:"#D2_LB"},{name:"Pablo",file:"../audio/donda-2/tracks/pablo.mp3",statId:"#D2_PAB"},
    {name:"Rich Flex",file:"../audio/donda-2/tracks/rich-flex.mp3",statId:"#D2_RF"},{name:"Happy",file:"../audio/donda-2/tracks/happy.mp3",statId:"#D2_HAP"},
    {name:"We Did It Kid",file:"../audio/donda-2/tracks/we-did-it-kid.mp3",statId:"#D2_WDIK"},{name:"Flowers",file:"../audio/donda-2/tracks/flowers.mp3",statId:"#D2_FLW"}
]},
{id:"vultures-1",title:"Vultures 1",artist:"¥$",primaryArtist:"Kanye West",featuredArtists:["Ty Dolla $ign"],year:"2024",type:"official",tags:["kanye","west","ty dolla sign","vultures","carnival","hoodrat","rap","2024"],cover:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Kanye_West_and_Ty_Dolla_Sign_-_Vultures_Vol._1_%28Cover%29.png/250px-Kanye_West_and_Ty_Dolla_Sign_-_Vultures_Vol._1_%28Cover%29.png",tracks:[
    {name:"Vultures",file:"../audio/vultures-1/tracks/vultures-title.mp3",statId:"#V1_VUL"},{name:"Paid",file:"../audio/vultures-1/tracks/paid.mp3",statId:"#V1_PAID"},
    {name:"Hoodrat",file:"../audio/vultures-1/tracks/hoodrat.mp3",statId:"#V1_HR"},{name:"Talking",file:"../audio/vultures-1/tracks/talking.mp3",statId:"#V1_TALK"},
    {name:"Carnival",file:"../audio/vultures-1/tracks/carnival.mp3",statId:"#V1_CARN"},{name:"Burn",file:"../audio/vultures-1/tracks/burn.mp3",statId:"#V1_BURN"},
    {name:"King",file:"../audio/vultures-1/tracks/king.mp3",statId:"#V1_KING"},{name:"Keys to My Life",file:"../audio/vultures-1/tracks/keys-to-my-life.mp3",statId:"#V1_KTML"},
    {name:"FML (feat. The Weeknd)",file:"../audio/vultures-1/tracks/fml.mp3"},
    {name:"Problematic",file:"../audio/vultures-1/tracks/problematic.mp3",statId:"#V1_PROB"},{name:"Good (Don't Die)",file:"../audio/vultures-1/tracks/good-dont-die.mp3",statId:"#V1_GDD"},
    {name:"Do It",file:"../audio/vultures-1/tracks/do-it.mp3",statId:"#V1_DI"},{name:"Beg Forgiveness",file:"../audio/vultures-1/tracks/beg-forgiveness.mp3",statId:"#V1_BF"},
    {name:"Paperwork",file:"../audio/vultures-1/tracks/paperwork.mp3",statId:"#V1_PW"},{name:"Back to Me",file:"../audio/vultures-1/tracks/back-to-me.mp3",statId:"#V1_BTM"},
    {name:"Vultures 2",file:"../audio/vultures-1/tracks/vultures-2-track.mp3",statId:"#V1_V2"},{name:"Lifestyle",file:"../audio/vultures-1/tracks/lifestyle.mp3",statId:"#V1_LS"}
]},
{id:"vultures-2",title:"Vultures 2",artist:"¥$",primaryArtist:"Kanye West",featuredArtists:["Ty Dolla $ign"],year:"2024",type:"official",tags:["kanye","west","ty dolla sign","vultures","2","rap","2024"],cover:"https://images.genius.com/8e2c3c0e076e066fa40966001b956663.1000x1000x1.jpg",tracks:[
    {name:"Field Trip",file:"../audio/vultures-2/tracks/field-trip.mp3",statId:"#V2_FT"},{name:"Everybody",file:"../audio/vultures-2/tracks/everybody.mp3",statId:"#V2_EVB"},
    {name:"Bomb",file:"../audio/vultures-2/tracks/bomb.mp3",statId:"#V2_BOMB"},{name:"River",file:"../audio/vultures-2/tracks/river.mp3",statId:"#V2_RIV"},
    {name:"Science",file:"../audio/vultures-2/tracks/science.mp3",statId:"#V2_SCI"},{name:"Munch",file:"../audio/vultures-2/tracks/munch.mp3",statId:"#V2_MUNCH"},
    {name:"Drive",file:"../audio/vultures-2/tracks/drive.mp3",statId:"#V2_DRV"},{name:"Mast",file:"../audio/vultures-2/tracks/mast.mp3",statId:"#V2_MAST"},
    {name:"Beg",file:"../audio/vultures-2/tracks/beg.mp3",statId:"#V2_BEG"},{name:"Lonely Roads",file:"../audio/vultures-2/tracks/lonely-roads.mp3",statId:"#V2_LR"},
    {name:"Gun To My Head",file:"../audio/vultures-2/tracks/gun-to-my-head.mp3",statId:"#V2_GTMH"},
    {name:"Preacher Man",file:"../audio/vultures-2/tracks/preacher-man.mp3",statId:"#V2_PM"},
    {name:"Slide",file:"../audio/vultures-2/tracks/slide.mp3",statId:"#V2_SLD"},
    {name:"Fvcking Demons",file:"../audio/vultures-2/tracks/fvcking-demons.mp3",statId:"#V2_FD"}
]},
{id:"bully",title:"Bully",artist:"Kanye West",year:"2025",type:"official",tags:["kanye","west","ye","bully","rap","2025"],cover:"https://news.artnet.com/app/news-upload/2024/10/kanye-west-bully-ye.jpg",tracks:[
    {name:"Bully",file:"../audio/bully/tracks/bully-title.mp3",statId:"#BUL_BUL"},{name:"Lonely",file:"../audio/bully/tracks/lonely.mp3",statId:"#BUL_LON"},
    {name:"Industry",file:"../audio/bully/tracks/industry.mp3",statId:"#BUL_IND"},{name:"Witches",file:"../audio/bully/tracks/witches.mp3",statId:"#BUL_WIT"},
    {name:"Field Trip",file:"../audio/bully/tracks/field-trip.mp3"},
    {name:"New Body",file:"../audio/bully/tracks/new-body.mp3",statId:"#BUL_NB"},
    {name:"Hard Way",file:"../audio/bully/tracks/hard-way.mp3",statId:"#BUL_HW"},
    {name:"Forever",file:"../audio/bully/tracks/forever.mp3",statId:"#BUL_FOR"},
    {name:"Champion 2",file:"../audio/bully/tracks/champion-2.mp3",statId:"#BUL_C2"},
    {name:"Empire",file:"../audio/bully/tracks/empire.mp3",statId:"#BUL_EMP"}
]},
{id:"die-lit",title:"Die Lit",artist:"Playboi Carti",year:"2018",type:"official",tags:["playboi carti","rap","2018"],cover:"https://upload.wikimedia.org/wikipedia/en/c/c6/Die_Lit_by_Playboi_Carti.jpg",tracks:[
    {name:"Long Time (Intro)",file:"../audio/die-lit/tracks/long-time.mp3",statId:"#DL_LT"},
    {name:"R.I.P.",file:"../audio/die-lit/tracks/rip.mp3",statId:"#DL_RIP"},
    {name:"Lean 4 Real (feat. Skepta)",file:"../audio/die-lit/tracks/lean-4-real.mp3",statId:"#DL_L4R"},
    {name:"Old Money",file:"../audio/die-lit/tracks/old-money.mp3",statId:"#DL_OM"},
    {name:"Love Hurts (feat. Travis Scott)",file:"../audio/die-lit/tracks/love-hurts.mp3",statId:"#DL_LH"},
    {name:"Shoota (feat. Lil Uzi Vert)",file:"../audio/die-lit/tracks/shoota.mp3",statId:"#DL_SHOOT"},
    {name:"Right Now (feat. Pi'erre Bourne)",file:"../audio/die-lit/tracks/right-now.mp3",statId:"#DL_RN"},
    {name:"Poke It Out (feat. Nicki Minaj)",file:"../audio/die-lit/tracks/poke-it-out.mp3",statId:"#DL_PIO"},
    {name:"Home (KOD)",file:"../audio/die-lit/tracks/home-kod.mp3",statId:"#DL_HOME"},
    {name:"Fell In Luv (feat. Bryson Tiller)",file:"../audio/die-lit/tracks/fell-in-luv.mp3",statId:"#DL_FIL"},
    {name:"Foreign",file:"../audio/die-lit/tracks/foreign.mp3",statId:"#DL_FOR"},
    {name:"Pull Up",file:"../audio/die-lit/tracks/pull-up.mp3",statId:"#DL_PU"},
    {name:"Mileage (feat. Chief Keef)",file:"../audio/die-lit/tracks/mileage.mp3",statId:"#DL_MIL"},
    {name:"FlatBed Freestyle",file:"../audio/die-lit/tracks/flatbed-freestyle.mp3",statId:"#DL_FF"},
    {name:"No Time (feat. Gunna)",file:"../audio/die-lit/tracks/no-time.mp3",statId:"#DL_NT"},
    {name:"Middle of the Summer (feat. Red Coldhearted)",file:"../audio/die-lit/tracks/middle-of-the-summer.mp3",statId:"#DL_MOTS"},
    {name:"Choppa Won't Miss (feat. Young Thug)",file:"../audio/die-lit/tracks/choppa-wont-miss.mp3",statId:"#DL_CWM"},
    {name:"R.I.P. Fredo (Notice Me) (feat. Young Nudy)",file:"../audio/die-lit/tracks/rip-fredo.mp3",statId:"#DL_RIPF"},
    {name:"Top (feat. Pi'erre Bourne)",file:"../audio/die-lit/tracks/top.mp3",statId:"#DL_TOP"}
]},
{
  id: "goblin",
  title: "Goblin",
  artist: "Tyler, the Creator",
  year: "2011",
  type: "official",
  tags: ["tyler the creator","rap","2011"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/goblin/covers/IMG_6377.jpeg",
  tracks: [
    {name:"Goblin",file:"../audio/goblin/tracks/goblin.mp3",statId:"#GOB_GOB"},
    {name:"Yonkers",file:"../audio/goblin/tracks/yonkers.mp3",statId:"#GOB_YON"},
    {name:"Radicals",file:"../audio/goblin/tracks/radicals.mp3",statId:"#GOB_RAD"},
    {name:"She (feat. Frank Ocean)",file:"../audio/goblin/tracks/she.mp3",statId:"#GOB_SHE"},
    {name:"Transylvania",file:"../audio/goblin/tracks/transylvania.mp3",statId:"#GOB_TRANS"},
    {name:"Nightmare",file:"../audio/goblin/tracks/nightmare.mp3",statId:"#GOB_NIGHT"},
    {name:"Tron Cat",file:"../audio/goblin/tracks/tron-cat.mp3",statId:"#GOB_TC"},
    {name:"Her",file:"../audio/goblin/tracks/her.mp3",statId:"#GOB_HER"},
    {name:"Sandwitches (feat. Hodgy)",file:"../audio/goblin/tracks/sandwitches.mp3",statId:"#GOB_SAND"},
    {name:"Fish",file:"../audio/goblin/tracks/fish.mp3",statId:"#GOB_FISH"},
    {name:"Analog (feat. Hodgy)",file:"../audio/goblin/tracks/analog.mp3",statId:"#GOB_ANA"},
    {name:"B.S.D.",file:"../audio/goblin/tracks/bsd.mp3",statId:"#GOB_BSD"},
    {name:"Window (feat. Domo Genesis, Hodgy & Mike G)",file:"../audio/goblin/tracks/window.mp3",statId:"#GOB_WIN"},
    {name:"AU79",file:"../audio/goblin/tracks/au79.mp3",statId:"#GOB_AU79"},
    {name:"Golden",file:"../audio/goblin/tracks/golden.mp3",statId:"#GOB_GOLD"}
  ]
},
{
  id: "wolf",
  title: "Wolf",
  artist: "Tyler, the Creator",
  year: "2013",
  type: "official",
  tags: ["tyler the creator","rap","2013"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/wolf/covers/IMG_6378.jpeg",
  tracks: [
    {name:"Wolf",file:"../audio/wolf/tracks/wolf.mp3",statId:"#WOLF_WOLF"},
    {name:"Jamba (feat. Hodgy)",file:"../audio/wolf/tracks/jamba.mp3",statId:"#WOLF_JAM"},
    {name:"Cowboy",file:"../audio/wolf/tracks/cowboy.mp3",statId:"#WOLF_COW"},
    {name:"Awkward",file:"../audio/wolf/tracks/awkward.mp3",statId:"#WOLF_AWK"},
    {name:"Domo23",file:"../audio/wolf/tracks/domo23.mp3",statId:"#WOLF_D23"},
    {name:"Answer",file:"../audio/wolf/tracks/answer.mp3",statId:"#WOLF_ANS"},
    {name:"Slater (feat. Frank Ocean)",file:"../audio/wolf/tracks/slater.mp3",statId:"#WOLF_SLA"},
    {name:"48",file:"../audio/wolf/tracks/48.mp3",statId:"#WOLF_48"},
    {name:"Colossus",file:"../audio/wolf/tracks/colossus.mp3",statId:"#WOLF_COL"},
    {name:"PartyIsntOver/Campfire/Bimmer (feat. Frank Ocean & Lætitia Sadier)",file:"../audio/wolf/tracks/piocb.mp3",statId:"#WOLF_PCB"},
    {name:"IFHY (feat. Pharrell)",file:"../audio/wolf/tracks/ifhy.mp3",statId:"#WOLF_IFHY"},
    {name:"Pigs",file:"../audio/wolf/tracks/pigs.mp3",statId:"#WOLF_PIGS"},
    {name:"Parking Lot (feat. Mike G & Casey Veggies)",file:"../audio/wolf/tracks/parking-lot.mp3",statId:"#WOLF_PL"},
    {name:"Rusty (feat. Domo Genesis & Earl Sweatshirt)",file:"../audio/wolf/tracks/rusty.mp3",statId:"#WOLF_RUS"},
    {name:"Trashwang (feat. Odd Future)",file:"../audio/wolf/tracks/trashwang.mp3",statId:"#WOLF_TW"},
    {name:"Treehome95 (feat. Coco O. & Erykah Badu)",file:"../audio/wolf/tracks/treehome95.mp3",statId:"#WOLF_TH95"},
    {name:"Tamale",file:"../audio/wolf/tracks/tamale.mp3",statId:"#WOLF_TAM"},
    {name:"Lone",file:"../audio/wolf/tracks/lone.mp3",statId:"#WOLF_LONE"}
  ]
},
{
  id: "cherry-bomb",
  title: "Cherry Bomb",
  artist: "Tyler, the Creator",
  year: "2015",
  type: "official",
  tags: ["tyler the creator","rap","2015"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/cherry-bomb/covers/cherry.jpeg",
  tracks: [
    {name:"Deathcamp",file:"../audio/cherry-bomb/tracks/deathcamp.mp3",statId:"#CB_DC"},
    {name:"Buffalo",file:"../audio/cherry-bomb/tracks/buffalo.mp3",statId:"#CB_BUF"},
    {name:"Pilot",file:"../audio/cherry-bomb/tracks/pilot.mp3",statId:"#CB_PIL"},
    {name:"Run",file:"../audio/cherry-bomb/tracks/run.mp3",statId:"#CB_RUN"},
    {name:"Find Your Wings (feat. Kali Uchis & Roy Ayers)",file:"../audio/cherry-bomb/tracks/find-your-wings.mp3",statId:"#CB_FYW"},
    {name:"Cherry Bomb",file:"../audio/cherry-bomb/tracks/cherry-bomb.mp3",statId:"#CB_CB"},
    {name:"Blow My Load (feat. Wanya Morris, Dâm-Funk & Austin Feinstein)",file:"../audio/cherry-bomb/tracks/blow-my-load.mp3",statId:"#CB_BML"},
    {name:"2SEATER (feat. Aaron Shaw & Samantha Nelson)",file:"../audio/cherry-bomb/tracks/2seater.mp3",statId:"#CB_2S"},
    {name:"The Brown Stains of Darkeese Latifah Part 6–12 (Remix) (feat. Schoolboy Q)",file:"../audio/cherry-bomb/tracks/brown-stains.mp3",statId:"#CB_BS"},
    {name:"Fucking Young / Perfect (feat. Charlie Wilson, Kali Uchis & Austin Feinstein)",file:"../audio/cherry-bomb/tracks/fucking-young-perfect.mp3",statId:"#CB_FYP"},
    {name:"Smuckers (feat. Kanye West & Lil Wayne)",file:"../audio/cherry-bomb/tracks/smuckers.mp3",statId:"#CB_SMU"},
    {name:"Keep Da O's (feat. Pharrell & Coco O.)",file:"../audio/cherry-bomb/tracks/keep-da-os.mp3",statId:"#CB_KDO"},
    {name:"Okaga, CA",file:"../audio/cherry-bomb/tracks/okaga-ca.mp3",statId:"#CB_OKA"}
  ]
},
{
  id: "flower-boy",
  title: "Flower Boy",
  artist: "Tyler, the Creator",
  year: "2017",
  type: "official",
  tags: ["tyler the creator","rap","2017"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/flowerboy/covers/IMG_6382.jpeg",
  tracks: [
    {name:"Foreword (feat. Rex Orange County)",file:"../audio/flower-boy/tracks/foreword.mp3",statId:"#FB_FORE"},
    {name:"Where This Flower Blooms (feat. Frank Ocean)",file:"../audio/flower-boy/tracks/where-this-flower-blooms.mp3",statId:"#FB_WTFB"},
    {name:"Sometimes...",file:"../audio/flower-boy/tracks/sometimes.mp3",statId:"#FB_SOM"},
    {name:"See You Again (feat. Kali Uchis)",file:"../audio/flower-boy/tracks/see-you-again.mp3",statId:"#FB_SYA"},
    {name:"Who Dat Boy (feat. A$AP Rocky)",file:"../audio/flower-boy/tracks/who-dat-boy.mp3",statId:"#FB_WDB"},
    {name:"Pothole (feat. Jaden Smith)",file:"../audio/flower-boy/tracks/pothole.mp3",statId:"#FB_POT"},
    {name:"Garden Shed (feat. Estelle)",file:"../audio/flower-boy/tracks/garden-shed.mp3",statId:"#FB_GS"},
    {name:"Boredom (feat. Rex Orange County & Anna of the North)",file:"../audio/flower-boy/tracks/boredom.mp3",statId:"#FB_BOR"},
    {name:"I Ain't Got Time!",file:"../audio/flower-boy/tracks/i-aint-got-time.mp3",statId:"#FB_IAGT"},
    {name:"911 / Mr. Lonely (feat. Frank Ocean & Steve Lacy)",file:"../audio/flower-boy/tracks/911-mr-lonely.mp3",statId:"#FB_911"},
    {name:"Droppin' Seeds (feat. Lil Wayne)",file:"../audio/flower-boy/tracks/droppin-seeds.mp3",statId:"#FB_DS"},
    {name:"November",file:"../audio/flower-boy/tracks/november.mp3",statId:"#FB_NOV"},
    {name:"Glitter",file:"../audio/flower-boy/tracks/glitter.mp3",statId:"#FB_GLI"},
    {name:"Enjoy Right Now, Today",file:"../audio/flower-boy/tracks/enjoy-right-now-today.mp3",statId:"#FB_ERNT"}
  ]
},
{
  id: "igor",
  title: "IGOR",
  artist: "Tyler, the Creator",
  year: "2019",
  type: "official",
  tags: ["tyler the creator", "rap", "2019", "alternative hip hop"],
  cover: "https://upload.wikimedia.org/wikipedia/en/5/51/Igor_-_Tyler%2C_the_Creator.jpg",
  tracks: [
    {name:"IGOR'S THEME",file:"../audio/igor/tracks/igors-theme.mp3",statId:"#IGOR_IT"},
    {name:"EARFQUAKE",file:"../audio/igor/tracks/earfquake.mp3",statId:"#IGOR_EQ"},
    {name:"I THINK",file:"../audio/igor/tracks/i-think.mp3",statId:"#IGOR_ITK"},
    {name:"EXACTLY WHAT YOU RUN FROM YOU END UP CHASING",file:"../audio/igor/tracks/exactly-what-you-run-from.mp3",statId:"#IGOR_EWYRF"},
    {name:"RUNNING OUT OF TIME",file:"../audio/igor/tracks/running-out-of-time.mp3",statId:"#IGOR_ROOT"},
    {name:"NEW MAGIC WAND",file:"../audio/igor/tracks/new-magic-wand.mp3",statId:"#IGOR_NMW"},
    {name:"A BOY IS A GUN*",file:"../audio/igor/tracks/a-boy-is-a-gun.mp3",statId:"#IGOR_ABIAG"},
    {name:"PUPPET",file:"../audio/igor/tracks/puppet.mp3",statId:"#IGOR_PUP"},
    {name:"WHAT'S GOOD",file:"../audio/igor/tracks/whats-good.mp3",statId:"#IGOR_WG"},
    {name:"GONE, GONE / THANK YOU",file:"../audio/igor/tracks/gone-gone-thank-you.mp3",statId:"#IGOR_GGTY"},
    {name:"I DON'T LOVE YOU ANYMORE",file:"../audio/igor/tracks/idlya.mp3",statId:"#IGOR_IDLYA"},
    {name:"ARE WE STILL FRIENDS?",file:"../audio/igor/tracks/are-we-still-friends.mp3",statId:"#IGOR_AWSF"}
  ]
},
{
  id: "cmiygl",
  title: "CALL ME IF YOU GET LOST",
  artist: "Tyler, the Creator",
  year: "2021",
  type: "official",
  tags: ["tyler the creator","rap","2021"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/cmiygl/covers/IMG_6383.jpeg",
  tracks: [
    {name:"SIR BAUDELAIRE (feat. DJ Drama)",file:"../audio/cmiygl/tracks/sir-baudelaire.mp3",statId:"#CMIYGL_SB"},
    {name:"CORSO",file:"../audio/cmiygl/tracks/corso.mp3",statId:"#CMIYGL_COR"},
    {name:"LEMONHEAD (feat. 42 Dugg)",file:"../audio/cmiygl/tracks/lemonhead.mp3",statId:"#CMIYGL_LEM"},
    {name:"WUSYANAME (feat. YoungBoy Never Broke Again & Ty Dolla $ign)",file:"../audio/cmiygl/tracks/wusyaname.mp3",statId:"#CMIYGL_WUS"},
    {name:"LUMBERJACK",file:"../audio/cmiygl/tracks/lumberjack.mp3",statId:"#CMIYGL_LUM"},
    {name:"HOT WIND BLOWS (feat. Lil Wayne)",file:"../audio/cmiygl/tracks/hot-wind-blows.mp3",statId:"#CMIYGL_HWB"},
    {name:"MASSA",file:"../audio/cmiygl/tracks/massa.mp3",statId:"#CMIYGL_MAS"},
    {name:"RUNITUP (feat. Teezo Touchdown)",file:"../audio/cmiygl/tracks/runitup.mp3",statId:"#CMIYGL_RUN"},
    {name:"MANIFESTO (feat. Domo Genesis)",file:"../audio/cmiygl/tracks/manifesto.mp3",statId:"#CMIYGL_MAN"},
    {name:"SWEET / I THOUGHT YOU WANTED TO DANCE (feat. Brent Faiyaz & Fana Hues)",file:"../audio/cmiygl/tracks/sweet-itywtd.mp3",statId:"#CMIYGL_SWE"},
    {name:"MOMMA TALK",file:"../audio/cmiygl/tracks/momma-talk.mp3",statId:"#CMIYGL_MT"},
    {name:"RISE! (feat. Daisy World)",file:"../audio/cmiygl/tracks/rise.mp3",statId:"#CMIYGL_RISE"},
    {name:"BLESSED",file:"../audio/cmiygl/tracks/blessed.mp3",statId:"#CMIYGL_BLE"},
    {name:"JUGGERNAUT (feat. Lil Uzi Vert & Pharrell Williams)",file:"../audio/cmiygl/tracks/juggernaut.mp3",statId:"#CMIYGL_JUG"},
    {name:"WILSHIRE",file:"../audio/cmiygl/tracks/wilshire.mp3",statId:"#CMIYGL_WIL"},
    {name:"SAFARI",file:"../audio/cmiygl/tracks/safari.mp3",statId:"#CMIYGL_SAF"}
  ]
},
{
  id: "cmiygl-deluxe",
  title: "CALL ME IF YOU GET LOST: The Estate Sale",
  artist: "Tyler, the Creator",
  year: "2023",
  type: "official",
  tags: ["tyler the creator","rap","2023","deluxe"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/cmiygl_the-estate-sale/covers/IMG_6384.jpeg",
  tracks: [
    {name:"EVERYTHING MUST GO (feat. DJ Drama)",file:"../audio/cmiygl_the-estate-sale/everything-must-go.mp3",statId:"#TES_EMG"},
    {name:"STUNTMAN (feat. Vince Staples)",file:"../audio/cmiygl_the-estate-sale/stuntman.mp3",statId:"#TES_STU"},
    {name:"WHAT A DAY",file:"../audio/cmiygl_the-estate-sale/what-a-day.mp3",statId:"#TES_WAD"},
    {name:"WHARF TALK (feat. A$AP Rocky)",file:"../audio/cmiygl_the-estate-sale/wharf-talk.mp3",statId:"#TES_WT"},
    {name:"DOGTOOTH",file:"../audio/cmiygl_the-estate-sale/dogtooth.mp3",statId:"#TES_DOG"},
    {name:"HEAVEN TO ME",file:"../audio/cmiygl_the-estate-sale/heaven-to-me.mp3",statId:"#TES_HTM"},
    {name:"BOYFRIEND, GIRLFRIEND (2020 Demo) (feat. YG)",file:"../audio/cmiygl_the-estate-sale/boyfriend-girlfriend.mp3",statId:"#TES_BG"}
  ]
},
{
  id: "chromakopia",
  title: "CHROMAKOPIA",
  artist: "Tyler, the Creator",
  year: "2024",
  type: "official",
  tags: ["tyler the creator","rap","2024"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/chromakopia/covers/IMG_6385.webp",
  tracks: [
    {name:"ST. CHROMA",file:"../audio/chromakopia/st-chroma.mp3",statId:"#CHK_SC"},
    {name:"NOID",file:"../audio/chromakopia/noid.mp3",statId:"#CHK_NOID"},
    {name:"I KILLED YOU",file:"../audio/chromakopia/i-killed-you.mp3",statId:"#CHK_IKY"},
    {name:"THOUGHT I WAS DEAD",file:"../audio/chromakopia/thought-i-was-dead.mp3",statId:"#CHK_TWD"},
    {name:"LIKE HIM",file:"../audio/chromakopia/like-him.mp3",statId:"#CHK_LH"},
    {name:"DARLING, I",file:"../audio/chromakopia/darling-i.mp3",statId:"#CHK_DI"},
    {name:"HEY JANE",file:"../audio/chromakopia/hey-jane.mp3",statId:"#CHK_HJ"},
    {name:"BALLOON",file:"../audio/chromakopia/balloon.mp3",statId:"#CHK_BAL"},
    {name:"LOVE, PEACE, AND LIGHT",file:"../audio/chromakopia/love-peace-light.mp3",statId:"#CHK_LPL"},
    {name:"WELCOME TO THE DISCO",file:"../audio/chromakopia/welcome-to-the-disco.mp3",statId:"#CHK_WTD"},
    {name:"ELECTRIC RAINBOW",file:"../audio/chromakopia/electric-rainbow.mp3",statId:"#CHK_ER"},
    {name:"FANTASY",file:"../audio/chromakopia/fantasy.mp3",statId:"#CHK_FAN"},
    {name:"CHROMAKOPIA (Outro)",file:"../audio/chromakopia/chromakopia-outro.mp3",statId:"#CHK_OUT"}
  ]
},
{
  id: "dont-tap-the-glass",
  title: "DON'T TAP THE GLASS",
  artist: "Tyler, the Creator",
  year: "2025",
  type: "official",
  tags: ["tyler the creator","rap","2025"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/dont-tap-the-glass/covers/Untitled174_20260225160356.png",
  tracks: [
    {name:"Big Poe (feat. Sk8brd)",file:"../audio/dont-tap-the-glass/tracks/big-poe.mp3",statId:"#DTTG_BP"},
    {name:"Sugar On My Tongue",file:"../audio/dont-tap-the-glass/tracks/sugar-on-my-tongue.mp3",statId:"#DTTG_SOT"},
    {name:"Sucka Free",file:"../audio/dont-tap-the-glass/tracks/sucka-free.mp3",statId:"#DTTG_SF"},
    {name:"Mommanem",file:"../audio/dont-tap-the-glass/tracks/mommanem.mp3",statId:"#DTTG_MOM"},
    {name:"Stop Playing With Me",file:"../audio/dont-tap-the-glass/tracks/stop-playing-with-me.mp3",statId:"#DTTG_SPWM"},
    {name:"Ring Ring Ring",file:"../audio/dont-tap-the-glass/tracks/ring-ring-ring.mp3",statId:"#DTTG_RRR"},
    {name:"Don't Tap That Glass / Tweakin'",file:"../audio/dont-tap-the-glass/tracks/dont-tap-that-glass-tweakin.mp3",statId:"#DTTG_DTT"},
    {name:"Don't You Worry Baby",file:"../audio/dont-tap-the-glass/tracks/dont-you-worry-baby.mp3",statId:"#DTTG_DYWB"},
    {name:"I'll Take Care of You",file:"../audio/dont-tap-the-glass/tracks/ill-take-care-of-you.mp3",statId:"#DTTG_ITCOY"},
    {name:"Tell Me What It Is",file:"../audio/dont-tap-the-glass/tracks/tell-me-what-it-is.mp3",statId:"#DTTG_TMWII"}
  ]
},
{
  id: "section-80",
  title: "Section.80",
  artist: "Kendrick Lamar",
  year: "2011",
  type: "official",
  tags: ["kendrick lamar","rap","2011","conscious hip hop"],
  cover: "https://upload.wikimedia.org/wikipedia/en/thumb/4/48/Section.80-Cover.jpg/250px-Section.80-Cover.jpg",
  tracks: [
    {name:"Fuck Your Ethnicity",file:"../audio/section-80/tracks/fuck-your-ethnicity.mp3",statId:"#S80_FYE"},
    {name:"Hol' Up",file:"../audio/section-80/tracks/hol-up.mp3",statId:"#S80_HU"},
    {name:"A.D.H.D",file:"../audio/section-80/tracks/adhd.mp3",statId:"#S80_ADHD"},
    {name:"No Make-Up (Her Vice) (feat. Colin Munroe)",file:"../audio/section-80/tracks/no-makeup.mp3",statId:"#S80_NMU"},
    {name:"Tammy's Song (Her Evils)",file:"../audio/section-80/tracks/tammys-song.mp3",statId:"#S80_TS"},
    {name:"Chapter Six",file:"../audio/section-80/tracks/chapter-six.mp3",statId:"#S80_C6"},
    {name:"Ronald Reagan Era (His Evils)",file:"../audio/section-80/tracks/ronald-reagan-era.mp3",statId:"#S80_RRE"},
    {name:"Poe Man's Dreams (His Vice) (feat. GLC)",file:"../audio/section-80/tracks/poe-mans-dreams.mp3",statId:"#S80_PMD"},
    {name:"The Spiteful Chant (feat. Schoolboy Q)",file:"../audio/section-80/tracks/the-spiteful-chant.mp3",statId:"#S80_TSC"},
    {name:"Chapter Ten",file:"../audio/section-80/tracks/chapter-ten.mp3",statId:"#S80_C10"},
    {name:"Keisha's Song (Her Pain) (feat. Ashtrobot)",file:"../audio/section-80/tracks/keishas-song.mp3",statId:"#S80_KS"},
    {name:"Rigamortus",file:"../audio/section-80/tracks/rigamortus.mp3",statId:"#S80_RIG"},
    {name:"Kush & Corinthians (His Pain) (feat. BJ the Chicago Kid)",file:"../audio/section-80/tracks/kush-corinthians.mp3",statId:"#S80_KC"},
    {name:"Blow My High (Members Only)",file:"../audio/section-80/tracks/blow-my-high.mp3",statId:"#S80_BMH"},
    {name:"Ab-Soul's Outro (feat. Ab-Soul)",file:"../audio/section-80/tracks/ab-souls-outro.mp3",statId:"#S80_ASO"},
    {name:"HiiiPower",file:"../audio/section-80/tracks/hiiipower.mp3",statId:"#S80_HP"}
  ]
},
{
  id: "good-kid-maad-city",
  title: "good kid, m.A.A.d city",
  artist: "Kendrick Lamar",
  year: "2012",
  type: "official",
  tags: ["kendrick lamar","rap","2012","west coast hip hop"],
  cover: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSgFRLKqN8J5PnVQaBUTENfIWH9W72_qInvDA&s",
  tracks: [
    {name:"Sherane a.k.a Master Splinter’s Daughter",file:"../audio/good-kid-maad-city/tracks/sherane.mp3",statId:"#GKMC_S"},
    {name:"Bitch, Don’t Kill My Vibe",file:"../audio/good-kid-maad-city/tracks/bdkmv.mp3",statId:"#GKMC_BDKMV"},
    {name:"Backseat Freestyle",file:"../audio/good-kid-maad-city/tracks/backseat-freestyle.mp3",statId:"#GKMC_BF"},
    {name:"The Art of Peer Pressure",file:"../audio/good-kid-maad-city/tracks/art-of-peer-pressure.mp3",statId:"#GKMC_AOPP"},
    {name:"Money Trees (feat. Jay Rock)",file:"../audio/good-kid-maad-city/tracks/money-trees.mp3",statId:"#GKMC_MT"},
    {name:"Poetic Justice (feat. Drake)",file:"../audio/good-kid-maad-city/tracks/poetic-justice.mp3",statId:"#GKMC_PJ"},
    {name:"good kid",file:"../audio/good-kid-maad-city/tracks/good-kid.mp3",statId:"#GKMC_GK"},
    {name:"m.A.A.d city (feat. MC Eiht)",file:"../audio/good-kid-maad-city/tracks/maad-city.mp3",statId:"#GKMC_MC"},
    {name:"Swimming Pools (Drank)",file:"../audio/good-kid-maad-city/tracks/swimming-pools.mp3",statId:"#GKMC_SP"},
    {name:"Sing About Me, I’m Dying of Thirst",file:"../audio/good-kid-maad-city/tracks/samidot.mp3",statId:"#GKMC_SAM"},
    {name:"Real (feat. Anna Wise)",file:"../audio/good-kid-maad-city/tracks/real.mp3",statId:"#GKMC_REAL"},
    {name:"Compton (feat. Dr. Dre)",file:"../audio/good-kid-maad-city/tracks/compton.mp3",statId:"#GKMC_COMP"}
  ]
},
{
  id: "to-pimp-a-butterfly",
  title: "To Pimp a Butterfly",
  artist: "Kendrick Lamar",
  year: "2015",
  type: "official",
  tags: ["kendrick lamar","rap","2015","jazz rap"],
  cover: "https://upload.wikimedia.org/wikipedia/en/f/f6/Kendrick_Lamar_-_To_Pimp_a_Butterfly.png",
  tracks: [
    {name:"Wesley's Theory (feat. George Clinton & Thundercat)",file:"../audio/to-pimp-a-butterfly/tracks/wesleys-theory.mp3",statId:"#TPAB_WT"},
    {name:"For Free? (Interlude)",file:"../audio/to-pimp-a-butterfly/tracks/for-free.mp3",statId:"#TPAB_FF"},
    {name:"King Kunta",file:"../audio/to-pimp-a-butterfly/tracks/king-kunta.mp3",statId:"#TPAB_KK"},
    {name:"Institutionalized",file:"../audio/to-pimp-a-butterfly/tracks/institutionalized.mp3",statId:"#TPAB_INST"},
    {name:"These Walls",file:"../audio/to-pimp-a-butterfly/tracks/these-walls.mp3",statId:"#TPAB_TW"},
    {name:"u",file:"../audio/to-pimp-a-butterfly/tracks/u.mp3",statId:"#TPAB_U"},
    {name:"Alright",file:"../audio/to-pimp-a-butterfly/tracks/alright.mp3",statId:"#TPAB_ALR"},
    {name:"Mortal Man",file:"../audio/to-pimp-a-butterfly/tracks/mortal-man.mp3",statId:"#TPAB_MM"}
  ]
},
{
  id: "damn",
  title: "DAMN.",
  artist: "Kendrick Lamar",
  year: "2017",
  type: "official",
  tags: ["kendrick lamar","rap","2017"],
  cover: "https://external-preview.redd.it/7x4J7CpDkmARyvMW94fO6hSU2ohEztso2jzO37emeR8.jpg?auto=webp&s=cfc96f803045b54357f0824e59a3dd83aeec0389",
  tracks: [
    {name:"BLOOD.",file:"../audio/damn/tracks/blood.mp3",statId:"#DAMN_BLOOD"},
    {name:"DNA.",file:"../audio/damn/tracks/dna.mp3",statId:"#DAMN_DNA"},
    {name:"HUMBLE.",file:"../audio/damn/tracks/humble.mp3",statId:"#DAMN_HUMBLE"},
    {name:"DUCKWORTH.",file:"../audio/damn/tracks/duckworth.mp3",statId:"#DAMN_DUCK"}
  ]
},
{
  id: "eternal_atake",
  title: "Eternal Atake",
  artist: "Lil Uzi Vert",
  year: "2020",
  type: "official",
  tags: ["lil uzi vert","rap","2020"],
  cover: "https://i.ebayimg.com/images/g/9ToAAOSwJB5ksb0W/s-l1200.jpg",
  tracks: [
    {name:"Baby Pluto",file:"../audio/eternal_atake/tracks/baby_pluto.mp3",statId:"#EA_BABY_PLUTO"},
    {name:"Lo Mein",file:"../audio/eternal_atake/tracks/lo_mein.mp3",statId:"#EA_LO_MEIN"},
    {name:"Silly Watch",file:"../audio/eternal_atake/tracks/silly_watch.mp3",statId:"#EA_SILLY_WATCH"},
    {name:"POP",file:"../audio/eternal_atake/tracks/pop.mp3",statId:"#EA_POP"},
    {name:"You Better Move",file:"../audio/eternal_atake/tracks/you_better_move.mp3",statId:"#EA_YBM"},
    {name:"Homecoming",file:"../audio/eternal_atake/tracks/homecoming.mp3",statId:"#EA_HOMECOMING"},
    {name:"I Can Show You",file:"../audio/eternal_atake/tracks/i_can_show_you.mp3",statId:"#EA_ICSY"},
    {name:"Venetia",file:"../audio/eternal_atake/tracks/venetia.mp3",statId:"#EA_VENETIA"},
    {name:"Secure the Bag",file:"../audio/eternal_atake/tracks/secure_the_bag.mp3",statId:"#EA_STB"},
    {name:"Prices",file:"../audio/eternal_atake/tracks/prices.mp3",statId:"#EA_PRICES"},
    {name:"Urgency (feat. Syd)",file:"../audio/eternal_atake/tracks/urgency.mp3",statId:"#EA_URGENCY"},
    {name:"Celebration Station",file:"../audio/eternal_atake/tracks/celebration_station.mp3",statId:"#EA_CSTATION"},
    {name:"Bigger Than Life",file:"../audio/eternal_atake/tracks/bigger_than_life.mp3",statId:"#EA_BTL"},
    {name:"Chrome Heart Tags",file:"../audio/eternal_atake/tracks/chrome_heart_tags.mp3",statId:"#EA_CHT"},
    {name:"Bust Me",file:"../audio/eternal_atake/tracks/bust_me.mp3",statId:"#EA_BUST_ME"},
    {name:"That Way",file:"../audio/eternal_atake/tracks/that_way.mp3",statId:"#EA_THAT_WAY"},
    {name:"P2",file:"../audio/eternal_atake/tracks/p2.mp3",statId:"#EA_P2"}
  ]
},
{
  id: "luv_is_rage",
  title: "Luv Is Rage",
  artist: "Lil Uzi Vert",
  year: "2015",
  type: "official",
  tags: ["lil uzi vert","rap","2015"],
  cover: "https://upload.wikimedia.org/wikipedia/en/thumb/5/54/Luv_Is_Rage_Cover.jpg/250px-Luv_Is_Rage_Cover.jpg",
  tracks: [
    {name:"Safe House",file:"../audio/luv_is_rage/tracks/safe_house.mp3",statId:"#LIR_SAFE_HOUSE"},
    {name:"Enemies",file:"../audio/luv_is_rage/tracks/enemies.mp3",statId:"#LIR_ENEMIES"},
    {name:"Want Some More",file:"../audio/luv_is_rage/tracks/want_some_more.mp3",statId:"#LIR_WSM"},
    {name:"Right Now",file:"../audio/luv_is_rage/tracks/right_now.mp3",statId:"#LIR_RIGHT_NOW"},
    {name:"All My Chains",file:"../audio/luv_is_rage/tracks/all_my_chains.mp3",statId:"#LIR_AMC"},
    {name:"Nuyork Nights at 21",file:"../audio/luv_is_rage/tracks/nuyork_nights.mp3",statId:"#LIR_NNY21"},
    {name:"Yamborghini Dream",file:"../audio/luv_is_rage/tracks/yamborghini_dream.mp3",statId:"#LIR_YAMB"},
    {name:"Bleed",file:"../audio/luv_is_rage/tracks/bleed.mp3",statId:"#LIR_BLEED"},
    {name:"Luv Is Rage",file:"../audio/luv_is_rage/tracks/luv_is_rage.mp3",statId:"#LIR_TITLE"}
  ]
},
{
  id: "luv_vs_the_world_2",
  title: "Luv vs. The World 2",
  artist: "Lil Uzi Vert",
  year: "2020",
  type: "official",
  tags: ["lil uzi vert","rap","2020"],
  cover: "https://upload.wikimedia.org/wikipedia/en/thumb/9/9b/Lil_Uzi_Vert_vs_the_World_2_cover_art.jpg/250px-Lil_Uzi_Vert_vs_the_World_2_cover_art.jpg",
  tracks: [
    {name:"Myron",file:"../audio/luv_vs_the_world_2/tracks/myron.mp3",statId:"#LVTW2_MYRON"},
    {name:"Lotus",file:"../audio/luv_vs_the_world_2/tracks/lotus.mp3",statId:"#LVTW2_LOTUS"},
    {name:"Bean (Kobe)",file:"../audio/luv_vs_the_world_2/tracks/bean_kobe.mp3",statId:"#LVTW2_BEAN"},
    {name:"Yessirskiii (feat. 21 Savage)",file:"../audio/luv_vs_the_world_2/tracks/yessirskiii.mp3",statId:"#LVTW2_YESSIR"},
    {name:"Wassup",file:"../audio/luv_vs_the_world_2/tracks/wassup.mp3",statId:"#LVTW2_WASSUP"},
    {name:"Strawberry Peels (feat. Young Thug & Gunna)",file:"../audio/luv_vs_the_world_2/tracks/strawberry_peels.mp3",statId:"#LVTW2_SP"},
    {name:"Moon Relate",file:"../audio/luv_vs_the_world_2/tracks/moon_relate.mp3",statId:"#LVTW2_MOON"},
    {name:"Come This Way",file:"../audio/luv_vs_the_world_2/tracks/come_this_way.mp3",statId:"#LVTW2_CTW"},
    {name:"Trap This Way (This Way)",file:"../audio/luv_vs_the_world_2/tracks/trap_this_way.mp3",statId:"#LVTW2_TTW"},
    {name:"Got the Guap (feat. Young Thug)",file:"../audio/luv_vs_the_world_2/tracks/got_the_guap.mp3",statId:"#LVTW2_GTG"},
    {name:"Leaders (feat. NAV)",file:"../audio/luv_vs_the_world_2/tracks/leaders.mp3",statId:"#LVTW2_LEADERS"},
    {name:"Baby Pluto",file:"../audio/luv_vs_the_world_2/tracks/baby_pluto.mp3",statId:"#LVTW2_BABY_PLUTO"},
    {name:"P2",file:"../audio/luv_vs_the_world_2/tracks/p2.mp3",statId:"#LVTW2_P2"}
  ]
},
{
  id: "lil_uzi_vert_vs_the_world",
  title: "Lil Uzi Vert vs. The World",
  artist: "Lil Uzi Vert",
  year: "2016",
  type: "official",
  tags: ["lil uzi vert","rap","2016"],
  cover: "https://upload.wikimedia.org/wikipedia/en/d/d5/LilUziVertVsTheWorld.jpg",
  tracks: [
    {name:"Canadian Goose",file:"../audio/lil_uzi_vert_vs_the_world/tracks/canadian_goose.mp3",statId:"#LUVTW_CANADA"},
    {name:"Hi Roller",file:"../audio/lil_uzi_vert_vs_the_world/tracks/hi_roller.mp3",statId:"#LUVTW_HIROLLER"},
    {name:"Money Longer",file:"../audio/lil_uzi_vert_vs_the_world/tracks/money_longer.mp3",statId:"#LUVTW_ML"},
    {name:"Ps & Qs",file:"../audio/lil_uzi_vert_vs_the_world/tracks/ps_and_qs.mp3",statId:"#LUVTW_PSQS"},
    {name:"You Was Right",file:"../audio/lil_uzi_vert_vs_the_world/tracks/you_was_right.mp3",statId:"#LUVTW_YWR"},
    {name:"Baby Are You Home",file:"../audio/lil_uzi_vert_vs_the_world/tracks/baby_are_you_home.mp3",statId:"#LUVTW_BAYH"},
    {name:"Scott and Ramona",file:"../audio/lil_uzi_vert_vs_the_world/tracks/scott_and_ramona.mp3",statId:"#LUVTW_SAR"},
    {name:"The Way Life Goes",file:"../audio/lil_uzi_vert_vs_the_world/tracks/the_way_life_goes.mp3",statId:"#LUVTW_TWLG"},
    {name:"For Real",file:"../audio/lil_uzi_vert_vs_the_world/tracks/for_real.mp3",statId:"#LUVTW_FORREAL"}
  ]
},
{
  id: "pink-tape",
  title: "Pink Tape",
  artist: "Lil Uzi Vert",
  year: "2023",
  type: "official",
  tags: ["lil uzi vert","rap","2023"],
  cover: "https://m.media-amazon.com/images/I/91mf0aFkILL._UF1000,1000_QL80_.jpg",
  tracks: [
    {name:"Flooded the Face",file:"../audio/pink-tape/tracks/flooded_the_face.mp3",statId:"#PT_FLOODED"},
    {name:"Suicide Doors",file:"../audio/pink-tape/tracks/suicide_doors.mp3",statId:"#PT_SUICIDE"},
    {name:"Aye",file:"../audio/pink-tape/tracks/aye.mp3",statId:"#PT_AYE"},
    {name:"Crush Em",file:"../audio/pink-tape/tracks/crush_em.mp3",statId:"#PT_CRUSH"},
    {name:"Amped",file:"../audio/pink-tape/tracks/amped.mp3",statId:"#PT_AMPED"},
    {name:"x2",file:"../audio/pink-tape/tracks/x2.mp3",statId:"#PT_X2"},
    {name:"Died and Came Back",file:"../audio/pink-tape/tracks/died_and_came_back.mp3",statId:"#PT_DIED"},
    {name:"Spin Again",file:"../audio/pink-tape/tracks/spin_again.mp3",statId:"#PT_SPIN"},
    {name:"That Fiya",file:"../audio/pink-tape/tracks/that_fiya.mp3",statId:"#PT_FIYA"},
    {name:"I Gotta",file:"../audio/pink-tape/tracks/i_gotta.mp3",statId:"#PT_IGOTTA"},
    {name:"Endless Fashion (feat. Nicki Minaj)",file:"../audio/pink-tape/tracks/endless_fashion.mp3",statId:"#PT_ENDLESS"},
    {name:"Mama, I'm Sorry",file:"../audio/pink-tape/tracks/mama_im_sorry.mp3",statId:"#PT_MAMA"},
    {name:"All Alone",file:"../audio/pink-tape/tracks/all_alone.mp3",statId:"#PT_ALONE"},
    {name:"Nakamura",file:"../audio/pink-tape/tracks/nakamura.mp3",statId:"#PT_NAKAMURA"},
    {name:"Just Wanna Rock",file:"../audio/pink-tape/tracks/just_wanna_rock.mp3",statId:"#PT_JWR"},
    {name:"Patience",file:"../audio/pink-tape/tracks/patience.mp3",statId:"#PT_PATIENCE"},
    {name:"CS",file:"../audio/pink-tape/tracks/cs.mp3",statId:"#PT_CS"},
    {name:"Werewolf",file:"../audio/pink-tape/tracks/werewolf.mp3",statId:"#PT_WEREWOLF"},
    {name:"Pluto to Mars",file:"../audio/pink-tape/tracks/pluto_to_mars.mp3",statId:"#PT_PLUTO"},
    {name:"Days Come and Go",file:"../audio/pink-tape/tracks/days_come_and_go.mp3",statId:"#PT_DAYS"},
    {name:"Rehab",file:"../audio/pink-tape/tracks/rehab.mp3",statId:"#PT_REHAB"},
    {name:"The End (feat. BABYMETAL)",file:"../audio/pink-tape/tracks/the_end.mp3",statId:"#PT_THE_END"}
  ]
},
// UNRELEASED
{id:"yandhi",title:"Yandhi",artist:"Kanye West",year:"2018 (unreleased)",type:"unreleased",tags:["kanye","west","yandhi","unreleased","shelved","rap","2018"],cover:"https://upload.wikimedia.org/wikipedia/commons/1/1d/Yandhi_Cover_Art_%28Free_License%29.jpg",tracks:[
    {name:"Chakras",file:"../audio/yandhi/tracks/chakras.mp3",statId:"$YAN_CHAK"},{name:"Garden",file:"../audio/yandhi/tracks/garden.mp3",statId:"$YAN_GARD"},{name:"New Body",file:"../audio/yandhi/tracks/new-body.mp3",statId:"$YAN_NB"},
    {name:"Vibez",file:"../audio/yandhi/tracks/vibez.mp3",statId:"$YAN_VIB"},{name:"Easy",file:"../audio/yandhi/tracks/easy.mp3",statId:"$YAN_EASY"},{name:"Brothers",file:"../audio/yandhi/tracks/brothers.mp3",statId:"$YAN_BRO"},
    {name:"Like God",file:"../audio/yandhi/tracks/like-god.mp3",statId:"$YAN_LG"},{name:"Yandhi",file:"../audio/yandhi/tracks/yandhi-title.mp3",statId:"$YAN_YAN"},{name:"Violent Crimes",file:"../audio/yandhi/tracks/violent-crimes.mp3",statId:"$YAN_VC"},
    {name:"Nah Nah Nah",file:"../audio/yandhi/tracks/nah-nah-nah.mp3",statId:"$YAN_NNN"},{name:"Background Noise",file:"../audio/yandhi/tracks/background-noise.mp3",statId:"$YAN_BN"},
    {name:"True Love",file:"../audio/yandhi/tracks/true-love-yandhi.mp3",statId:"$YAN_TL"},{name:"In the Fire",file:"../audio/yandhi/tracks/in-the-fire.mp3",statId:"$YAN_ITF"}
]},
{id:"turbo-grafx-16",title:"Turbo Grafx 16",artist:"Kanye West",year:"2019 (unreleased)",type:"unreleased",tags:["kanye","west","turbo","grafx","16","unreleased","shelved","rap","2019"],cover:"https://lastfm.freetls.fastly.net/i/u/ar0/68bd0237ddfa94159b35a684e5ee8be7.jpg",tracks:[
    {name:"Nah Nah Nah (OG)",file:"../audio/turbo-grafx-16/tracks/nah-nah-nah-og.mp3",statId:"$TG_NNN"},{name:"Turbo Grafx 16",file:"../audio/turbo-grafx-16/tracks/turbo-title.mp3",statId:"$TG_TG"},
    {name:"Water (Coachella)",file:"../audio/turbo-grafx-16/tracks/water-coachella.mp3",statId:"$TG_WAT"},{name:"Closed on Sunday (Early)",file:"../audio/turbo-grafx-16/tracks/closed-early.mp3",statId:"$TG_COS"},
    {name:"Follow God (Rough)",file:"../audio/turbo-grafx-16/tracks/follow-god-rough.mp3",statId:"$TG_FG"},{name:"God's Country",file:"../audio/turbo-grafx-16/tracks/gods-country.mp3",statId:"$TG_GC"},
    {name:"Everything We Need (Demo)",file:"../audio/turbo-grafx-16/tracks/ewen-demo.mp3",statId:"$TG_EWN"},{name:"Hands On (Early)",file:"../audio/turbo-grafx-16/tracks/hands-on-early.mp3",statId:"$TG_HO"},
    {name:"Use This Gospel (Demo)",file:"../audio/turbo-grafx-16/tracks/utg-demo.mp3",statId:"$TG_UTG"},{name:"Jesus Is Lord (Rough)",file:"../audio/turbo-grafx-16/tracks/jil-rough.mp3",statId:"$TG_JIL"}
]},
{id:"maybe-maybe",title:"maybe (Maybe).",artist:"Rhap5ody",year:"2029 (soon)",type:"unreleased",tags:["rhap5dy","maybe","2029"],cover:"https://raw.githubusercontent.com/bguhm/bguhm.github.io/main/music/albums/maybe-maybe/maybe-maybe-cover-art.png",tracks:[
    {name:"slackrr.",file:"../audio/maybe-maybe/tracks/slackrr.mp3",statId:"$MM_SLK"},{name:"Caramel eyes.",file:"../audio/maybe-maybe/tracks/caramel-eyes.m4a",statId:"$MM_CE"},
    {name:"PUNK HAZARD.",file:"../audio/maybe-maybe/tracks/punk-hazard.m4a",statId:"$MM_PH"},{name:"HOUND.",file:"../audio/maybe-maybe/tracks/hound.m4a",statId:"$MM_HND"},
    {name:"Arizona Girl",file:"../audio/maybe-maybe/tracks/arizona-girl.m4a",statId:"$MM_AZ"},{name:"MARIGOLD.",file:"../audio/maybe-maybe/tracks/marigold.m4a",statId:"$MM_MG"},
    {name:"Besto Friendo",file:"../audio/maybe-maybe/tracks/besto-friendo.m4a",statId:"$MM_BF"},{name:"HippoCript.",file:"../audio/maybe-maybe/tracks/hippocript.m4a",statId:"$MM_HC"},
    {name:"AloneAgain",file:"../audio/maybe-maybe/tracks/alone-again.m4a",statId:"$MM_AA"},{name:"RoofTop",file:"../audio/maybe-maybe/tracks/rooftop.m4a",statId:"$MM_RT"},
    {name:"November.",file:"../audio/maybe-maybe/tracks/november.m4a",statId:"$MM_NOV"},{name:"Street",file:"../audio/maybe-maybe/tracks/street.m4a",statId:"$MM_STR"},
    {name:"Self Conscious.",file:"../audio/maybe-maybe/tracks/self-conscious.m4a",statId:"$MM_SC"},{name:"Scribble.",file:"../audio/maybe-maybe/tracks/scribble.m4a",statId:"$MM_SCR"},
    {name:"Feelings In A Bottle.",file:"../audio/maybe-maybe/tracks/feelings-in-a-bottle.m4a",statId:"$MM_FIAB"},{name:"SoloCup.",file:"../audio/maybe-maybe/tracks/solocup.m4a",statId:"$MM_SOL"},
    {name:"Bg.uhm",file:"../audio/maybe-maybe/tracks/bguhm.m4a",statId:"$MM_BG"},{name:"6:27",file:"../audio/maybe-maybe/tracks/627.m4a",statId:"$MM_627"},
    {name:"Daisy.",file:"../audio/maybe-maybe/tracks/daisy.m4a",statId:"$MM_DAISY"},{name:"Maybe (Maybe).",file:"../audio/maybe-maybe/tracks/maybe-maybe.m4a",statId:"$MM_MM"}
]},
{id:"syndicate",title:"Syndicate",artist:"Rhap5ody",year:"2029 (soon)",type:"unreleased",tags:["syndicate","rhap5ody","2029"],cover:"https://raw.githubusercontent.com/bguhm/bguhm.github.io/main/music/albums/syndicate/Untitled157_20260219144858.png",tracks:[
    {name:"BOHEMETH.",file:"../audio/syndicate/tracks/bohemeth.mp3",statId:"$SYN_BOH"}
]},
{id:"nuralistics",title:"NURALISTICS",artist:"Rhap5ody",year:"2029 (soon)",type:"unreleased",tags:["NURALISTICS","rhap5ody","insomnia","2029"],cover:"https://raw.githubusercontent.com/bguhm/bguhm.github.io/main/music/albums/NURALISTICS/IMG_6099.png",tracks:[
    {name:"Insomnia.",file:"../audio/nuralistics/tracks/insomnia.mp3",statId:"$NUR_INS"}
]},
{id:"r5",title:"rhapsody",artist:"Rhap5ody",year:"2029 (soon)",type:"unreleased",tags:["rhap5ody","r5","2029"],cover:"https://raw.githubusercontent.com/bguhm/bguhm.github.io/main/music/albums/r5/IMG_6100.png",tracks:[
    {name:"R5 DO THAT SHIT.",file:"../audio/r5/tracks/r5dothatshit.mp3",statId:"$R5_R5DOTHATSHIT"}
]},
{id:"eternal-atake-og",title:"Eternal Atake",artist:"Lil Uzi Vert",year:"leaked 2019",type:"unreleased",tags:["liluzivert","ea","2019"],cover:"https://i.redd.it/uby2xk33ybd11.jpg",tracks:[
    {name:"Lets Go",file:"../audio/EternalAtake-OG/tracks/lets-go.mp3",statId:"$EA_LETSGO"},
    {name:"Bands",file:"../audio/EternalAtake-OG/tracks/bands.m4a",statId:"$EA_BANDS"},
    {name:"You A 10",file:"../audio/EternalAtake-OG/tracks/youa10.m4a",statId:"$EA_YOUA10"},
    {name:"Put That Money Up",file:"../audio/EternaAtake-OG/tracks/putthatmoneyup.m4a",statId:"$EA_PUTTHATMONEYUP"},
    {name:"Blue Tips",file:"../audio/EternalAtake-OG/tracks/bluetips.m4a",statId:"$EA_BLUETIPS"},
    {name:"Sticky",file:"../audio/EternalAtake-OG/tracks/sticky.m4a",statId:"$EA_STICKY"},
    {name:"Take My Cake",file:"../audio/EternalAtake-OG/tracks/takemycake.m4a",statId:"$EA_TAKEMYCAKE"},
    {name:"All My Guap",file:"../audio/EternalAtake-OG/tracks/allmyguap.m4a",statId:"$EA_ALLMYGUAP"},
    {name:"Keep It Real",file:"../audio/EternalAtake-OG/tracks/keepitreal.m4a",statId:"$EA_KEEPITREAL"},
    {name:"Diamonds",file:"../audio/EternalAtake-OG/tracks/diamonds.m4a",statId:"$EA_DIAMONDS"},
    {name:"Of Course",file:"../audio/EternalAtake-OG/tracks/ofcourse.m4a",statId:"$EA_OFCOURSE"},
    {name:"1600 (RAGER ANTHEM)",file:"../audio/EternalAtake-OG/tracks/1600rageranthem.m4a",statId:"$EA_1600RAGERANTHEM"},
    {name:"Not The Same",file:"../audio/EternalAtake-OG/tracks/notthesame.m4a",statId:"$EA_NOTTHESAME"},
    {name:"Closure",file:"../audio/EternalAtake-OG/tracks/closure.m4a",statId:"$EA_CLOSURE"},
    {name:"Extraed Out",file:"../audio/EternalAtake-OG/tracks/extraedout.m4a",statId:"$EA_EXTRAEDOUT"},
    {name:"Run It Up",file:"../audio/EternalAtake-OG/tracks/runitup.m4a",statId:"$EA_RUNITUP"},
    {name:"Extra - New Patek",file:"../audio/EternalAtake-OG/tracks/extra_new-patek.m4a",statId:"$EA_EXTRANEWPATEK"},
    {name:"Extra - The End Is Near",file:"../audio/EternalAtake-OG/tracks/extra_the-end-is-near.m4a",statId:"$EA_EXTRATHEENDISNEAR"}
]},
{id:"16-29-collab",title:"16*29",artist:"Lil Uzi Vert & Playboi Carti",year:"unreleased",type:"unreleased",tags:["liluzivert","playboicarti","collab","1629"],cover:"https://i.pinimg.com/736x/59/4c/1c/594c1c54684244b2feda1fc9650e4f14.jpg",tracks:[
    {name:"Intro (16*29)",file:"../audio/16-29-collab/tracks/intro1629.mp3",statId:"$1629_INTRO"},
    {name:"Fell In Luv",file:"../audio/16-29-collab/tracks/fellinluv.mp3",statId:"$1629_FELLINLUV"},
    {name:"No Stylist",file:"../audio/16-29-collab/tracks/nostylist.mp3",statId:"$1629_NOSTYLIST"},
    {name:"Drip Season",file:"../audio/16-29-collab/tracks/dripseason.mp3",statId:"$1629_DRIPSEASON"},
    {name:"Twin Turbos",file:"../audio/16-29-collab/tracks/twinturbos.mp3",statId:"$1629_TWINTURBOS"},
    {name:"Slatt Walk",file:"../audio/16-29-collab/tracks/slattwalk.mp3",statId:"$1629_SLATTWALK"},
    {name:"On Site (feat. Lil Uzi Vert)",file:"../audio/16-29-collab/tracks/onsite.mp3",statId:"$1629_ONSITE"},
    {name:"Rockstar Shit",file:"../audio/16-29-collab/tracks/rockstarshit.mp3",statId:"$1629_ROCKSTARSHIT"},
    {name:"Purple Haze",file:"../audio/16-29-collab/tracks/purplehaze.mp3",statId:"$1629_PURPLEHAZE"},
    {name:"Rager 4 Life",file:"../audio/16-29-collab/tracks/rager4life.mp3",statId:"$1629_RAGER4LIFE"},
    {name:"No Ceilings",file:"../audio/16-29-collab/tracks/noceilings.mp3",statId:"$1629_NOCEILINGS"},
    {name:"Eternal Rage",file:"../audio/16-29-collab/tracks/eternalrage.mp3",statId:"$1629_ETERNALRAGE"},
    {name:"Iced Out Halo",file:"../audio/16-29-collab/tracks/icedouthalo.mp3",statId:"$1629_ICEDOUTHALO"},
    {name:"Carti Season",file:"../audio/16-29-collab/tracks/cartiseason.mp3",statId:"$1629_CARTISEASON"},
    {name:"Outro (End Of Days)",file:"../audio/16-29-collab/tracks/outroendofdays.mp3",statId:"$1629_OUTRO"}
]},
{
  id: "bastard",
  title: "Bastard",
  artist: "Tyler, the Creator",
  year: "2009",
  type: "unreleased",
  tags: ["tyler the creator","rap","2009","mixtape"],
  cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/bastard/covers/IMG_6376.png",
  tracks: [
    {name:"Bastard",file:"../audio/bastard/tracks/bastard.mp3",statId:"$BAS_BAS"},
    {name:"Seven",file:"../audio/bastard/tracks/seven.mp3",statId:"$BAS_SEV"},
    {name:"Odd Toddlers (feat. Casey Veggies)",file:"../audio/bastard/tracks/odd-toddlers.mp3",statId:"$BAS_OT"},
    {name:"French!",file:"../audio/bastard/tracks/french.mp3",statId:"$BAS_FR"},
    {name:"Blow",file:"../audio/bastard/tracks/blow.mp3",statId:"$BAS_BL"},
    {name:"Pigs Fly (feat. Domo Genesis)",file:"../audio/bastard/tracks/pigs-fly.mp3",statId:"$BAS_PF"},
    {name:"Parade",file:"../audio/bastard/tracks/parade.mp3",statId:"$BAS_PAR"},
    {name:"Slow It Down (feat. Hodgy)",file:"../audio/bastard/tracks/slow-it-down.mp3",statId:"$BAS_SID"},
    {name:"AssMilk (feat. Earl Sweatshirt)",file:"../audio/bastard/tracks/assmilk.mp3",statId:"$BAS_AM"},
    {name:"VCR/Wheels",file:"../audio/bastard/tracks/vcr-wheels.mp3",statId:"$BAS_VW"},
    {name:"Session (feat. Hodgy & Mike G)",file:"../audio/bastard/tracks/session.mp3",statId:"$BAS_SES"},
    {name:"Sarah",file:"../audio/bastard/tracks/sarah.mp3",statId:"$BAS_SAR"},
    {name:"Jack and the Beanstalk",file:"../audio/bastard/tracks/jack-and-the-beanstalk.mp3",statId:"$BAS_JB"},
    {name:"Tina (feat. Jasper & Taco)",file:"../audio/bastard/tracks/tina.mp3",statId:"$BAS_TIN"},
    {name:"Inglorious",file:"../audio/bastard/tracks/inglorious.mp3",statId:"$BAS_ING"}
  ]
},
{
id: "no-luv-lost",
title: "No Luv Lost",
artist: "artist",
year: "leaked?",
type: "unreleased",
tags: [],
cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/no-luv-lost/covers/IMG_6389.jpeg",
tracks: []
},
{
id: "wlr-v1",
title: "whole lotta red v1",
artist: "artist",
year: "leaked?",
type: "unreleased",
tags: [],
cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/whole-lotta-red-v1/covers/IMG_6392.jpeg",
tracks: []
},
{
id: "the-world-pt1",
title: "TheWorld pt.1",
artist: "artist",
year: "leaked?",
type: "unreleased",
tags: [],
cover: "https://raw.githubusercontent.com/soundscapeonline/soundscapeonline.github.io/main/audio/theworldpt1/covers/IMG_6393.jpeg",
tracks: []
},
];
</script>

<script>
// ══════════════════════════════════════════════════════
//  ACCOUNT SYSTEM
// ══════════════════════════════════════════════════════
const INACTIVE_DAYS = 160, DELETE_DAYS = 80;
function getAccounts() { try { return JSON.parse(localStorage.getItem('player_accounts') || '{}') } catch { return {} } }
function saveAccounts(a) { localStorage.setItem('player_accounts', JSON.stringify(a)) }
function getSession() { return localStorage.getItem('player_session') || null }
function setSession(id) { localStorage.setItem('player_session', id || '') }
function getCurrentUser() { const s = getSession(); if (!s) return null; const a = getAccounts(); const u = a[s]; if (!u) return null; if (isInactive(u)) return null; return u; }
function isInactive(u) { return (Date.now() - u.lastActive) > (INACTIVE_DAYS * 86400000); }
function isPendingDelete(u) { return (Date.now() - u.lastActive) > ((INACTIVE_DAYS + DELETE_DAYS) * 86400000); }
function touchActivity() { const u = getCurrentUser(); if (!u) return; const a = getAccounts(); a[u.id].lastActive = Date.now(); saveAccounts(a); }
function genId() { const c = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'; let r = '#'; for (let i = 0; i < 8; i++) r += c[Math.floor(Math.random() * c.length)]; return r; }
function cleanInactive() { const a = getAccounts(); let changed = false; Object.keys(a).forEach(id => { if (isPendingDelete(a[id])) { delete a[id]; changed = true; } }); if (changed) saveAccounts(a); }
</script>

<script>
// ══════════════════════════════════════════════════════
//  SETTINGS PERSISTENCE
// ══════════════════════════════════════════════════════
function getSettings() {
  try { return JSON.parse(localStorage.getItem('player_settings') || '{}'); } catch { return {}; }
}
function saveSettings(s) { localStorage.setItem('player_settings', JSON.stringify(s)); }

let playerSettings = Object.assign({ maxVol: 300, defaultVol: 100, shuffleDefault: false, repeatDefault: 0 }, getSettings());

function initSettingsUI() {
  const maxVolSlider = document.getElementById('settingsMaxVol');
  const maxVolVal = document.getElementById('settingsMaxVolVal');
  const defVolSlider = document.getElementById('settingsDefaultVol');
  const defVolVal = document.getElementById('settingsDefaultVolVal');
  const shuffleCheck = document.getElementById('settingsShuffle');
  const repeatSel = document.getElementById('settingsRepeat');

  maxVolSlider.value = playerSettings.maxVol;
  maxVolVal.textContent = playerSettings.maxVol + '%';
  defVolSlider.value = playerSettings.defaultVol;
  defVolVal.textContent = playerSettings.defaultVol + '%';
  shuffleCheck.checked = playerSettings.shuffleDefault;
  repeatSel.value = playerSettings.repeatDefault;

  // Update vol slider max based on setting
  document.getElementById('volSlider').max = playerSettings.maxVol;

  maxVolSlider.oninput = () => {
    playerSettings.maxVol = parseInt(maxVolSlider.value);
    maxVolVal.textContent = playerSettings.maxVol + '%';
    document.getElementById('volSlider').max = playerSettings.maxVol;
    saveSettings(playerSettings);
    updateVolFill();
  };
  defVolSlider.oninput = () => {
    playerSettings.defaultVol = parseInt(defVolSlider.value);
    defVolVal.textContent = playerSettings.defaultVol + '%';
    saveSettings(playerSettings);
  };
  shuffleCheck.onchange = () => {
    playerSettings.shuffleDefault = shuffleCheck.checked;
    saveSettings(playerSettings);
  };
  repeatSel.onchange = () => {
    playerSettings.repeatDefault = parseInt(repeatSel.value);
    saveSettings(playerSettings);
  };
}
</script>

<script>
// ══════════════════════════════════════════════════════
//  AUDIO ENGINE — FULL IMPLEMENTATION
// ══════════════════════════════════════════════════════
let audio = new Audio();
audio.preload = 'auto';

// State
let flatList = [];       // [{name, src, albumId, albumTitle, cover, artist, origIdx, pIdx, lastPIdx, isMulti}]
let trackIdx = -1;       // current index in flatList
let isPlaying = false;
let shuffleOn = false;
let repeatMode = 0;      // 0=off, 1=all, 2=one
let shuffleOrder = [];   // shuffled indices
let shufflePos = 0;      // current position in shuffleOrder
let seekDragging = false;
let cachedDurations = {};
let vizAnimId = null;
let audioCtx = null, analyser = null, source = null, gainNode = null;

// Web Audio API setup (lazy)
function ensureAudioCtx() {
  if (audioCtx) return;
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  analyser = audioCtx.createAnalyser();
  analyser.fftSize = 64;
  gainNode = audioCtx.createGain();
  source = audioCtx.createMediaElementSource(audio);
  source.connect(gainNode);
  gainNode.connect(analyser);
  analyser.connect(audioCtx.destination);
}

// Build flat list from album (skip unavailable)
function buildFlat(album) {
  const list = [];
  album.tracks.forEach((t, origIdx) => {
    if (!t.file || t.file === '#') return;
    const files = Array.isArray(t.file) ? t.file : [t.file];
    files.forEach((f, pIdx) => {
      list.push({
        name: t.name,
        src: f,  // use file path as-is, no basePath prepended
        albumId: album.id,
        albumTitle: album.title,
        cover: album.cover,
        artist: album.primaryArtist || album.artist,
        origIdx,
        pIdx,
        lastPIdx: files.length - 1,
        isMulti: files.length > 1,
        statId: t.statId || null
      });
    });
  });
  return list;
}

// Load a track by index into flatList
function loadTrack(idx) {
  if (!flatList.length) return;
  idx = Math.max(0, Math.min(idx, flatList.length - 1));
  trackIdx = idx;
  const t = flatList[idx];

  audio.src = t.src;
  audio.load();

  // Update now-playing UI
  const bar = document.getElementById('playerBar');
  bar.classList.remove('hidden');
  document.getElementById('nowArt').src = t.cover;
  document.getElementById('nowArt').classList.remove('hidden');
  document.getElementById('nowTitle').textContent = t.name;
  document.getElementById('nowArtist').textContent = t.artist + ' · ' + t.albumTitle;
  document.getElementById('currTime').textContent = '0:00';
  document.getElementById('totalTime').textContent = '0:00';
  document.getElementById('seekFill').style.width = '0%';
  document.getElementById('seekSlider').value = 0;

  // Set volume from slider (which respects max)
  applyVolume();

  // Update track highlighting
  renderTrackHighlights();

  // Stats
  if (t.statId) recordTrackView(t.statId);
}

// Play current track
function playTrack() {
  ensureAudioCtx();
  if (audioCtx.state === 'suspended') audioCtx.resume();
  audio.play().then(() => {
    isPlaying = true;
    updatePlayBtn();
    startViz();
    const t = flatList[trackIdx];
    if (t && t.statId) onTrackPlayStart(t.statId, audio.duration);
  }).catch(e => console.warn('Playback failed:', e));
}

// Pause
function pauseTrack() {
  audio.pause();
  isPlaying = false;
  updatePlayBtn();
  stopViz();
}

// Toggle play/pause
function togglePlay() {
  if (!flatList.length) return;
  if (isPlaying) pauseTrack();
  else { ensureAudioCtx(); if (audioCtx.state === 'suspended') audioCtx.resume(); playTrack(); }
}

// Update play/pause button icon
function updatePlayBtn() {
  const icon = document.getElementById('playIcon');
  if (!icon) return;
  icon.className = isPlaying ? 'fas fa-pause' : 'fas fa-play';
}

// Previous track
function prevTrack() {
  if (!flatList.length) return;
  if (audio.currentTime > 3) { audio.currentTime = 0; return; }
  if (shuffleOn) {
    shufflePos = Math.max(0, shufflePos - 1);
    loadTrack(shuffleOrder[shufflePos]);
  } else {
    let ni = trackIdx - 1;
    if (ni < 0) ni = repeatMode === 1 ? flatList.length - 1 : 0;
    loadTrack(ni);
  }
  if (isPlaying) playTrack();
}

// Next track
function nextTrack() {
  if (!flatList.length) return;
  if (shuffleOn) {
    shufflePos++;
    if (shufflePos >= shuffleOrder.length) {
      if (repeatMode === 1) { rebuildShuffle(); shufflePos = 0; }
      else { shufflePos = shuffleOrder.length - 1; pauseTrack(); return; }
    }
    loadTrack(shuffleOrder[shufflePos]);
  } else {
    let ni = trackIdx + 1;
    if (ni >= flatList.length) {
      if (repeatMode === 1) ni = 0;
      else { pauseTrack(); return; }
    }
    loadTrack(ni);
  }
  if (isPlaying) playTrack();
}

// Shuffle
function rebuildShuffle() {
  shuffleOrder = flatList.map((_, i) => i);
  for (let i = shuffleOrder.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffleOrder[i], shuffleOrder[j]] = [shuffleOrder[j], shuffleOrder[i]];
  }
  shufflePos = shuffleOrder.indexOf(trackIdx);
  if (shufflePos < 0) shufflePos = 0;
}

function toggleShuffle() {
  shuffleOn = !shuffleOn;
  if (shuffleOn) rebuildShuffle();
  document.getElementById('btnRandom').classList.toggle('active', shuffleOn);
  showToast(shuffleOn ? 'Shuffle on' : 'Shuffle off');
}

// Repeat: 0=off, 1=all, 2=one
function cycleRepeat() {
  repeatMode = (repeatMode + 1) % 3;
  const btn = document.getElementById('btnRepeat');
  const icon = document.getElementById('repeatIcon');
  btn.classList.remove('active');
  if (repeatMode === 0) { icon.className = 'fas fa-redo'; showToast('Repeat off'); }
  else if (repeatMode === 1) { icon.className = 'fas fa-redo'; btn.classList.add('active'); showToast('Repeat all'); }
  else { icon.className = 'fas fa-redo-alt'; btn.classList.add('active'); showToast('Repeat one'); }
}

// Audio events
audio.addEventListener('timeupdate', () => {
  if (seekDragging) return;
  const cur = audio.currentTime, dur = audio.duration || 0;
  document.getElementById('currTime').textContent = fmt(cur);
  document.getElementById('totalTime').textContent = fmt(dur);
  const pct = dur ? (cur / dur) * 100 : 0;
  document.getElementById('seekFill').style.width = pct + '%';
  document.getElementById('seekSlider').value = dur ? (cur / dur) * 100 : 0;

  // Full listen check (90%)
  if (dur > 0 && cur / dur >= 0.9) onTrackFullListenComplete();
});

audio.addEventListener('loadedmetadata', () => {
  const dur = audio.duration || 0;
  document.getElementById('totalTime').textContent = fmt(dur);
  const t = flatList[trackIdx];
  if (t && t.statId) onTrackPlayStart(t.statId, dur);
});

audio.addEventListener('ended', () => {
  if (repeatMode === 2) {
    audio.currentTime = 0;
    audio.play();
  } else {
    nextTrack();
  }
});

audio.addEventListener('error', (e) => {
  console.warn('Audio error for:', audio.src, e);
  // Try auto-advance on error
  if (flatList.length > 1) setTimeout(() => nextTrack(), 500);
});

// Seek slider
const seekSlider = document.getElementById('seekSlider');
seekSlider.addEventListener('mousedown', () => seekDragging = true);
seekSlider.addEventListener('touchstart', () => seekDragging = true);
seekSlider.addEventListener('input', () => {
  const dur = audio.duration || 0;
  if (dur) {
    const t = (seekSlider.value / 100) * dur;
    document.getElementById('currTime').textContent = fmt(t);
    document.getElementById('seekFill').style.width = seekSlider.value + '%';
  }
});
seekSlider.addEventListener('change', () => {
  const dur = audio.duration || 0;
  if (dur) audio.currentTime = (seekSlider.value / 100) * dur;
  seekDragging = false;
});
seekSlider.addEventListener('mouseup', () => seekDragging = false);
seekSlider.addEventListener('touchend', () => seekDragging = false);

// Volume slider
const volSlider = document.getElementById('volSlider');
volSlider.value = 100;
volSlider.addEventListener('input', () => {
  applyVolume();
  updateVolFill();
});

function applyVolume() {
  const val = parseInt(volSlider.value);
  const maxVol = playerSettings.maxVol || 300;
  if (gainNode) {
    gainNode.gain.value = val / 100;
  } else {
    // fallback before WebAudio init: clamp to 0-1
    audio.volume = Math.min(1, val / 100);
  }
  updateVolFill();
}

function updateVolFill() {
  const val = parseInt(volSlider.value);
  const max = parseInt(volSlider.max) || 300;
  document.getElementById('volFill').style.width = (val / max * 100) + '%';
}
updateVolFill();

// Format seconds to m:ss
function fmt(s) {
  if (!s || isNaN(s) || !isFinite(s)) return '0:00';
  const m = Math.floor(s / 60), ss = Math.floor(s % 60);
  return m + ':' + String(ss).padStart(2, '0');
}

// ── VISUALIZER ──
const waveStrokes = document.querySelectorAll('#waveViz .stroke');
let vizFrameId = null;
const vizHeights = Array.from({length: waveStrokes.length}, () => 20);

function startViz() {
  document.getElementById('waveViz').classList.add('visible');
  if (vizFrameId) return;
  function frame() {
    if (!isPlaying) { stopViz(); return; }
    if (analyser) {
      const buf = new Uint8Array(analyser.frequencyBinCount);
      analyser.getByteFrequencyData(buf);
      const step = Math.floor(buf.length / waveStrokes.length);
      waveStrokes.forEach((s, i) => {
        const val = buf[i * step] || 0;
        const h = Math.max(10, (val / 255) * 18);
        vizHeights[i] = vizHeights[i] * 0.7 + h * 0.3;
        s.style.height = vizHeights[i] + 'px';
      });
    } else {
      waveStrokes.forEach((s, i) => {
        const h = 4 + Math.abs(Math.sin(Date.now() / 300 + i * 0.8)) * 14;
        s.style.height = h + 'px';
      });
    }
    vizFrameId = requestAnimationFrame(frame);
  }
  vizFrameId = requestAnimationFrame(frame);
}

function stopViz() {
  document.getElementById('waveViz').classList.remove('visible');
  if (vizFrameId) { cancelAnimationFrame(vizFrameId); vizFrameId = null; }
  waveStrokes.forEach(s => s.style.height = '3px');
}

// Helper: highlight playing track rows
function renderTrackHighlights() {
  document.querySelectorAll('[data-orig-idx]').forEach(row => {
    const oi = parseInt(row.dataset.origIdx);
    const aid = row.dataset.albumId;
    const cur = flatList[trackIdx];
    const active = cur && cur.origIdx === oi && cur.albumId === aid;
    row.classList.toggle('playing', active);
  });
}
</script>

<script>
// ══════════════════════════════════════════════════════
//  NAV HISTORY
// ══════════════════════════════════════════════════════
let navHistory = [], navPos = -1;
function pushNav(fn) { if (navPos < navHistory.length - 1) navHistory = navHistory.slice(0, navPos + 1); navHistory.push(fn); navPos++; }
function navBack() { if (navPos > 0) { navPos--; navHistory[navPos](); } }
function navFwd() { if (navPos < navHistory.length - 1) { navPos++; navHistory[navPos](); } }

// ══════════════════════════════════════════════════════
//  VIEW SWITCHING
// ══════════════════════════════════════════════════════
let currentAlbumId = null, currentPlaylistId = null;

function showView(id, push = true) {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  const viewId = 'view' + id.charAt(0).toUpperCase() + id.slice(1);
  const v = document.getElementById(viewId);
  if (v) v.classList.add('active');
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  if (id === 'home') { document.getElementById('navHome')?.classList.add('active'); renderHome(); }
  if (id === 'discover') document.getElementById('navDiscover')?.classList.add('active');
  if (id === 'search') document.getElementById('navSearch')?.classList.add('active');
  if (id === 'settings') document.getElementById('navSettings')?.classList.add('active');
}

function renderHome() {
  const grid = document.getElementById('gridHome');
  if (!grid || grid.children.length) return;
  const recent = [...ALBUMS].slice(-6).reverse();
  recent.forEach(album => grid.appendChild(makeAlbumCard(album)));
}

// ══════════════════════════════════════════════════════
//  DISCOVER VIEW
// ══════════════════════════════════════════════════════
const DISCOVER_RELEASED_LIMIT = 18;
const DISCOVER_UNRELEASED_LIMIT = 6;

function renderDiscover() {
  const official = document.getElementById('gridOfficial');
  const unreleased = document.getElementById('gridUnreleased');
  official.innerHTML = '';
  unreleased.innerHTML = '';
  const officialAlbums = ALBUMS.filter(a => a.type !== 'unreleased');
  const unreleasedAlbums = ALBUMS.filter(a => a.type === 'unreleased');
  officialAlbums.slice(0, DISCOVER_RELEASED_LIMIT).forEach(album => official.appendChild(makeAlbumCard(album)));
  unreleasedAlbums.slice(0, DISCOVER_UNRELEASED_LIMIT).forEach(album => unreleased.appendChild(makeAlbumCard(album)));
}

function makeAlbumCard(album) {
  const card = document.createElement('div');
  card.className = 'album-card';
  card.innerHTML = `<img class="album-card-art" src="${album.cover}" alt="${album.title}" onerror="this.style.background='#222'"/><div class="album-card-title">${album.title}</div><div class="album-card-sub">${album.artist} · ${album.year}</div>`;
  card.addEventListener('click', () => openAlbum(album.id));
  return card;
}

function openFullList(type, push = true) {
  if (type === 'released') {
    const albums = ALBUMS.filter(a => a.type !== 'unreleased');
    const grid = document.getElementById('gridFullReleased');
    const desc = document.getElementById('fullReleasedDesc');
    grid.innerHTML = '';
    if (desc) desc.textContent = `${albums.length} official albums`;
    albums.forEach(album => grid.appendChild(makeAlbumCard(album)));
    showView('fullReleased');
    if (push) pushNav(() => openFullList('released', false));
  } else {
    const albums = ALBUMS.filter(a => a.type === 'unreleased');
    const grid = document.getElementById('gridFullUnreleased');
    const desc = document.getElementById('fullUnreleasedDesc');
    grid.innerHTML = '';
    if (desc) desc.textContent = `${albums.length} shelved / unreleased projects`;
    albums.forEach(album => grid.appendChild(makeAlbumCard(album)));
    showView('fullUnreleased');
    if (push) pushNav(() => openFullList('unreleased', false));
  }
}

// ══════════════════════════════════════════════════════
//  ARTIST PROFILES
// ══════════════════════════════════════════════════════
const ARTIST_PROFILES = {
  "Kanye West": { pfp: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Kanye_West_at_the_2009_Tribeca_Film_Festival.jpg/330px-Kanye_West_at_the_2009_Tribeca_Film_Festival.jpg", bio: "Chicago-born rapper, producer, and creative director. One of the most influential artists in hip-hop history." },
  "Jay-Z": { pfp: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/Jay-Z_at_the_2009_Tribeca_Film_Festival_%28crop%29.jpg/330px-Jay-Z_at_the_2009_Tribeca_Film_Festival_%28crop%29.jpg", bio: "Brooklyn rapper, entrepreneur, and business mogul. Co-founder of Roc-A-Fella Records and Tidal." },
  "Kid Cudi": { pfp: "", bio: "Cleveland rapper and singer known for introspective, genre-defying music." },
  "Ty Dolla $ign": { pfp: "", bio: "Los Angeles-based rapper and singer, frequent collaborator on the ¥$ project." },
  "Kids See Ghosts": { pfp: "", bio: "Supergroup formed by Kanye West and Kid Cudi, releasing their self-titled debut in 2018." },
  "GOOD Music": { pfp: "", bio: "Kanye West's record label collective featuring Big Sean, Pusha T, Teyana Taylor, and more." },
  "¥$": { pfp: "", bio: "Collaborative project between Kanye West and Ty Dolla $ign, released as Vultures 1 & 2." },
  "Playboi Carti": { pfp: "", bio: "Atlanta-based rapper known for his experimental sound and Die Lit." },
  "Lil Uzi Vert": { pfp: "", bio: "Philadelphia rapper known for Eternal Atake and melodic rap style." },
  "Rhap5ody": { pfp: "", bio: "Upcoming artist with unreleased projects including maybe (Maybe). and Syndicate." }
};
function getArtistProfile(name) { return ARTIST_PROFILES[name] || { pfp: '', bio: '' }; }

// ══════════════════════════════════════════════════════
//  ALBUM VIEW
// ══════════════════════════════════════════════════════
function openAlbum(id, push = true) {
  const album = ALBUMS.find(a => a.id === id);
  if (!album) return;
  currentAlbumId = id;
  const u = getCurrentUser();
  const saved = u && u.savedAlbums && u.savedAlbums.includes(id);

  const hero = document.getElementById('albumHero');
  hero.innerHTML = `
    <img class="album-hero-art" src="${album.cover}" alt="${album.title}" onerror="this.style.background='#333'"/>
    <div class="album-hero-info">
      <div class="album-hero-label">Album · ${album.type === 'unreleased' ? 'Unreleased' : album.year}</div>
      <div class="album-hero-title">${album.title}</div>
      <div class="album-hero-artist" onclick="openArtist('${(album.primaryArtist || album.artist).replace(/'/g, "\\'")}', true)">${album.primaryArtist || album.artist}</div>
      <div class="album-hero-meta">${album.year} · ${album.tracks.length} tracks</div>
      <div class="album-actions">
        <button class="btn-play-all" onclick="playAlbum('${id}')"><i class="fas fa-play"></i></button>
        <button class="btn-save ${saved ? 'saved' : ''}" id="btnSaveAlbum" onclick="toggleSaveAlbum('${id}')">${saved ? '✓ Saved' : '+ Save'}</button>
      </div>
    </div>`;

  const rows = document.getElementById('albumTrackRows');
  rows.innerHTML = '';
  let logicalNum = 0;
  album.tracks.forEach((t, origIdx) => {
    const unavail = !t.file || t.file === '#';
    if (!unavail) logicalNum++;
    const row = document.createElement('div');
    row.className = 'track-row' + (unavail ? ' unavailable' : '');
    row.dataset.origIdx = origIdx;
    row.dataset.albumId = id;
    row.innerHTML = `
      <div class="track-num">
        <span class="track-num-text">${logicalNum || '·'}</span>
        <span class="track-num-icon" style="display:none"><i class="fas fa-volume-up"></i></span>
      </div>
      <div class="track-name-cell">${t.name}</div>
      <div class="track-dur">—</div>
      ${!unavail ? `<button class="track-menu-btn" onclick="openTrackCtx(event,'${id}',${origIdx})"><i class="fas fa-ellipsis-h"></i></button>` : '<div></div>'}`;
    if (!unavail) {
      row.addEventListener('click', e => {
        if (e.target.closest('.track-menu-btn')) return;
        playAlbumFromTrack(id, origIdx);
      });
    }
    rows.appendChild(row);
  });

  showView('album');
  if (push) pushNav(() => openAlbum(id, false));
  renderSidebarLibrary();
  setTimeout(() => loadDurationsFor(album, (src, dur) => {
    rows.querySelectorAll('.track-row').forEach(row => {
      const oi = parseInt(row.dataset.origIdx);
      const t2 = album.tracks[oi];
      if (!t2) return;
      const files = Array.isArray(t2.file) ? t2.file : [t2.file];
      if (files[0] && files[0] === src) row.querySelector('.track-dur').textContent = dur;
    });
  }), 50);
}

function playAlbum(id) {
  const album = ALBUMS.find(a => a.id === id);
  if (!album) return;
  flatList = buildFlat(album);
  if (shuffleOn) { rebuildShuffle(); loadTrack(shuffleOrder[0]); }
  else loadTrack(0);
  playTrack();
}

function playAlbumFromTrack(albumId, origIdx) {
  const album = ALBUMS.find(a => a.id === albumId);
  if (!album) return;
  flatList = buildFlat(album);
  if (shuffleOn) { rebuildShuffle(); }
  const fi = flatList.findIndex(f => f.origIdx === origIdx && f.pIdx === 0);
  loadTrack(fi === -1 ? 0 : fi);
  playTrack();
}

function loadDurationsFor(album, onEach) {
  const fl = buildFlat(album);
  let i = 0;
  function next() {
    if (i >= fl.length) return;
    const t = fl[i++];
    if (t.pIdx > 0) { next(); return; }
    if (cachedDurations[t.src]) { onEach(t.src, cachedDurations[t.src]); next(); return; }
    const a = new Audio();
    a.preload = 'metadata';
    a.src = t.src;
    const to = setTimeout(() => { a.src = ''; next(); }, 4000);
    a.onloadedmetadata = () => {
      clearTimeout(to);
      const d = fmt(a.duration);
      cachedDurations[t.src] = d;
      onEach(t.src, d);
      next();
    };
    a.onerror = () => { clearTimeout(to); next(); };
  }
  next();
}

// ══════════════════════════════════════════════════════
//  ARTIST VIEW
// ══════════════════════════════════════════════════════
function openArtist(artistName, push = true) {
  const primaryAlbums = ALBUMS.filter(a => a.artist === artistName || a.primaryArtist === artistName);
  const featuredOnAlbums = ALBUMS.filter(a => a.featuredArtists && a.featuredArtists.includes(artistName) && a.primaryArtist !== artistName && a.artist !== artistName);
  const u = getCurrentUser();
  const following = u && u.following && u.following.includes(artistName);
  const profile = getArtistProfile(artistName);

  const hero = document.getElementById('artistHero');
  hero.style.cssText = 'display:flex;align-items:flex-end;gap:24px;padding:36px 24px 24px;background:linear-gradient(180deg,rgba(255,0,0,.08) 0%,transparent 100%);border-bottom:1px solid var(--border);flex-shrink:0;';
  const pfpHtml = profile.pfp
    ? `<div class="artist-pfp"><img src="${profile.pfp}" alt="${artistName}" onerror="this.parentNode.innerHTML='<img src=\'https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png\'/>'"/></div>`
    : `<div class="artist-pfp"><img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"/></div>`;
  hero.innerHTML = `${pfpHtml}<div>
    <div style="font-size:10px;font-family:'Space Mono',monospace;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-bottom:6px;">Artist</div>
    <div style="font-family:'Bebas Neue',sans-serif;font-size:44px;letter-spacing:2px;">${artistName}</div>
    <div style="font-size:12px;color:var(--muted);margin-top:4px;">${primaryAlbums.length} release${primaryAlbums.length !== 1 ? 's' : ''}${featuredOnAlbums.length ? ` · Featured on ${featuredOnAlbums.length} more` : ''}</div>
    ${profile.bio ? `<div style="font-size:12px;color:var(--muted);margin-top:6px;max-width:460px;line-height:1.5;">${profile.bio}</div>` : ''}
    <div style="display:flex;gap:10px;margin-top:14px;align-items:center;">
      <button class="btn-play-all" onclick="playArtist('${artistName.replace(/'/g, "\\'")}')"><i class="fas fa-play"></i></button>
      <button class="btn-follow ${following ? 'following' : ''}" id="btnFollowArtist" onclick="toggleFollowArtist('${artistName.replace(/'/g, "\\'")}')">${following ? 'Following' : 'Follow'}</button>
    </div>
  </div>`;

  const aa = document.getElementById('artistAlbums');
  aa.innerHTML = '';
  aa.style.cssText = 'padding:0 24px 24px;';

  if (primaryAlbums.length) {
    const sec = document.createElement('div');
    sec.innerHTML = `<div class="section-title">Discography</div><div class="album-grid" id="artistPrimaryGrid" style="padding:0 0 20px;"></div>`;
    aa.appendChild(sec);
    primaryAlbums.forEach(album => document.getElementById('artistPrimaryGrid').appendChild(makeAlbumCard(album)));
  }

  if (featuredOnAlbums.length) {
    const sec = document.createElement('div');
    sec.innerHTML = `<div class="section-title">Featured On</div><div class="album-grid" id="artistFeatGrid" style="padding:0 0 20px;"></div>`;
    aa.appendChild(sec);
    featuredOnAlbums.forEach(album => document.getElementById('artistFeatGrid').appendChild(makeAlbumCard(album)));
  }

  showView('artist');
  if (push) pushNav(() => openArtist(artistName, false));
}

function playArtist(artistName) {
  const albums = ALBUMS.filter(a => a.artist === artistName || a.primaryArtist === artistName);
  if (!albums.length) return;
  let all = [];
  albums.forEach(a => all = all.concat(buildFlat(a)));
  flatList = all;
  if (shuffleOn) { rebuildShuffle(); loadTrack(shuffleOrder[0]); }
  else loadTrack(0);
  playTrack();
}
</script>

<script>
// ══════════════════════════════════════════════════════
//  SEARCH
// ══════════════════════════════════════════════════════
let searchTimer = null;
document.getElementById('globalSearch').addEventListener('input', function () {
  clearTimeout(searchTimer);
  const q = this.value.trim();
  if (!q) { showView('home'); return; }
  showView('search');
  searchTimer = setTimeout(() => doSearch(q), 200);
});

function doSearch(q) {
  const lq = q.toLowerCase();
  const res = document.getElementById('searchResults');
  res.innerHTML = '';
  const albumMatches = ALBUMS.filter(a => a.title.toLowerCase().includes(lq) || a.artist.toLowerCase().includes(lq) || (a.tags && a.tags.some(t => t.toLowerCase().includes(lq))));
  const trackMatches = [];
  ALBUMS.forEach(album => {
    album.tracks.forEach((t, origIdx) => {
      if (!t.file || t.file === '#') return;
      if (t.name.toLowerCase().includes(lq) || album.artist.toLowerCase().includes(lq) || album.title.toLowerCase().includes(lq)) {
        trackMatches.push({ track: t, album, origIdx });
      }
    });
  });
  const artistSet = new Set();
  ALBUMS.forEach(a => { [a.artist, a.primaryArtist, ...(a.featuredArtists || [])].forEach(n => { if (n && n.toLowerCase().includes(lq)) artistSet.add(n); }); });
  const accounts = getAccounts();
  const userMatches = Object.values(accounts).filter(u => { if (isInactive(u)) return false; const uid = u.id.toLowerCase(), uname = (u.username || '').toLowerCase(); return uid.includes(lq) || uname.includes(lq); });
  if (!albumMatches.length && !trackMatches.length && !artistSet.size && !userMatches.length) { res.innerHTML = '<div class="empty-state"><i class="fas fa-search"></i>No results found</div>'; return; }
  if (userMatches.length) {
    const sec = document.createElement('div'); sec.className = 'results-section'; sec.innerHTML = '<h3>Users</h3>';
    userMatches.slice(0, 5).forEach(u => {
      const card = document.createElement('div'); card.className = 'user-card';
      card.innerHTML = `<div class="user-card-pfp">${u.pfp ? `<img src="${u.pfp}" alt=""/>` : '<img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"/>'}</div><div><div class="user-card-name">${u.displayName || u.username}</div><div class="user-card-sub">@${u.username} · ${u.id}</div></div>`;
      card.addEventListener('click', () => openUserProfile(u.id)); sec.appendChild(card);
    }); res.appendChild(sec);
  }
  if (artistSet.size) {
    const sec = document.createElement('div'); sec.className = 'results-section'; sec.innerHTML = '<h3>Artists</h3>';
    const artistGrid = document.createElement('div'); artistGrid.style.cssText = 'display:grid;grid-template-columns:repeat(3,1fr);gap:8px;';
    [...artistSet].slice(0, 9).forEach(artist => {
      const profile = getArtistProfile(artist);
      const card = document.createElement('div');
      card.style.cssText = 'display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:8px;cursor:pointer;transition:background .15s;';
      card.onmouseover = () => card.style.background = 'var(--surface2)';
      card.onmouseout = () => card.style.background = 'transparent';
      const pfpHtml = profile.pfp
        ? `<img src="${profile.pfp}" style="width:44px;height:44px;border-radius:50%;object-fit:cover;flex-shrink:0;" onerror="this.style.display='none'">`
        : `<div style="width:44px;height:44px;border-radius:50%;background:var(--surface3);display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;"><img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png" style="width:100%;height:100%;border-radius:50%;"/></div>`;
      card.innerHTML = `${pfpHtml}<div><div style="font-size:13px;font-weight:500;">${artist}</div><div style="font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;margin-top:2px;">Artist</div></div>`;
      card.addEventListener('click', () => openArtist(artist)); artistGrid.appendChild(card);
    }); sec.appendChild(artistGrid); res.appendChild(sec);
  }
  if (albumMatches.length) {
    const sec = document.createElement('div'); sec.className = 'results-section'; sec.innerHTML = '<h3>Albums</h3>';
    const grid = document.createElement('div'); grid.className = 'album-grid'; grid.style.padding = '0';
    albumMatches.slice(0, 8).forEach(album => grid.appendChild(makeAlbumCard(album)));
    sec.appendChild(grid); res.appendChild(sec);
  }
  if (trackMatches.length) {
    const sec = document.createElement('div'); sec.className = 'results-section'; sec.innerHTML = '<h3>Tracks</h3>';
    trackMatches.slice(0, 10).forEach(({ track, album, origIdx }) => {
      const row = document.createElement('div'); row.className = 'result-track-row';
      row.innerHTML = `<img class="result-track-art" src="${album.cover}" onerror="this.style.background='#222'"/><div class="result-track-info"><div class="result-track-name">${track.name}</div><div class="result-track-album">${album.artist} · ${album.title}</div></div>`;
      row.addEventListener('click', () => playAlbumFromTrack(album.id, origIdx)); sec.appendChild(row);
    }); res.appendChild(sec);
  }
}
</script>

<script>
// ══════════════════════════════════════════════════════
//  SAVE ALBUM / FOLLOW ARTIST
// ══════════════════════════════════════════════════════
function toggleSaveAlbum(albumId) {
  const u = getCurrentUser(); if (!u) { openModal('modalAuth'); return; }
  const a = getAccounts(); const acc = a[u.id];
  if (!acc.savedAlbums) acc.savedAlbums = [];
  const i = acc.savedAlbums.indexOf(albumId);
  if (i === -1) { acc.savedAlbums.push(albumId); showToast('Album saved to library'); }
  else { acc.savedAlbums.splice(i, 1); showToast('Removed from library'); }
  saveAccounts(a);
  const btn = document.getElementById('btnSaveAlbum');
  if (btn) { const saved2 = acc.savedAlbums.includes(albumId); btn.textContent = saved2 ? '✓ Saved' : '+ Save'; btn.classList.toggle('saved', saved2); }
  renderSidebarLibrary();
}

function toggleFollowArtist(artistName) {
  const u = getCurrentUser(); if (!u) { openModal('modalAuth'); return; }
  const a = getAccounts(); const acc = a[u.id];
  if (!acc.following) acc.following = [];
  const i = acc.following.indexOf(artistName);
  if (i === -1) { acc.following.push(artistName); showToast('Following ' + artistName); }
  else { acc.following.splice(i, 1); showToast('Unfollowed ' + artistName); }
  saveAccounts(a);
  const btn = document.getElementById('btnFollowArtist');
  if (btn) { const f2 = acc.following.includes(artistName); btn.textContent = f2 ? 'Following' : 'Follow'; btn.classList.toggle('following', f2); }
}
</script>

<script>
// ══════════════════════════════════════════════════════
//  PLAYLISTS
// ══════════════════════════════════════════════════════
function getUserPlaylists() { const u = getCurrentUser(); if (!u) return []; return u.playlists || []; }
function openCreatePlaylist() { const u = getCurrentUser(); if (!u) { openModal('modalAuth'); return; } document.getElementById('newPlaylistName').value = ''; document.getElementById('newPlaylistDesc').value = ''; openModal('modalCreatePlaylist'); }
let pendingAddTrack = null;
function openCreatePlaylistFromAdd() { closeModal('modalAddToPlaylist'); document.getElementById('newPlaylistName').value = ''; document.getElementById('newPlaylistDesc').value = ''; openModal('modalCreatePlaylist'); }
function doCreatePlaylist() {
  const name = document.getElementById('newPlaylistName').value.trim();
  if (!name) { showToast('Enter a playlist name'); return; }
  const u = getCurrentUser(); if (!u) return;
  const a = getAccounts(); const acc = a[u.id];
  if (!acc.playlists) acc.playlists = [];
  const pid = 'pl_' + Date.now();
  acc.playlists.push({ id: pid, name, desc: document.getElementById('newPlaylistDesc').value.trim(), tracks: [] });
  saveAccounts(a); closeModal('modalCreatePlaylist'); showToast('Playlist created');
  if (pendingAddTrack) { doAddToPlaylist(pid, pendingAddTrack.albumId, pendingAddTrack.origIdx); pendingAddTrack = null; }
  renderSidebarLibrary();
}
function openTrackCtx(e, albumId, origIdx) {
  e.stopPropagation();
  const album = ALBUMS.find(a => a.id === albumId); const track = album?.tracks[origIdx]; if (!track) return;
  showCtxMenu(e.clientX, e.clientY, [
    { icon: 'fa-plus', label: 'Add to Playlist', action: () => openAddToPlaylist(albumId, origIdx) },
    { icon: 'fa-compact-disc', label: 'Go to Album', action: () => openAlbum(albumId) },
    { icon: 'fa-user', label: 'Go to Artist', action: () => openArtist(album.primaryArtist || album.artist) },
    track.url ? { icon: 'fa-spotify', label: 'Open on Spotify', action: () => window.open(track.url, '_blank') } : null
  ].filter(Boolean));
}
function openAddToPlaylist(albumId, origIdx) {
  const u = getCurrentUser(); if (!u) { openModal('modalAuth'); return; }
  const album = ALBUMS.find(a => a.id === albumId); const track = album?.tracks[origIdx]; if (!track) return;
  pendingAddTrack = { albumId, origIdx };
  document.getElementById('addToPlaylistTrackName').textContent = '"' + track.name + '"';
  const list = document.getElementById('addToPlaylistList'); list.innerHTML = '';
  const playlists = getUserPlaylists();
  if (!playlists.length) { list.innerHTML = '<div style="color:var(--muted);font-family:\'Space Mono\',monospace;font-size:12px;padding:10px 0;">No playlists yet</div>'; openModal('modalAddToPlaylist'); return; }
  playlists.forEach(pl => {
    const already = pl.tracks.some(t => t.albumId === albumId && t.origIdx === origIdx);
    const row = document.createElement('div'); row.className = 'saved-item'; row.style.cursor = 'pointer';
    row.innerHTML = `<div class="saved-item-art playlist-icon" style="font-size:18px;">♪</div><div class="saved-item-info"><div class="saved-item-name">${pl.name}</div><div class="saved-item-sub">${pl.tracks.length} tracks${already ? ' · Already added' : ''}</div></div>`;
    if (!already) row.addEventListener('click', () => { doAddToPlaylist(pl.id, albumId, origIdx); closeModal('modalAddToPlaylist'); });
    else row.style.opacity = '0.5';
    list.appendChild(row);
  }); openModal('modalAddToPlaylist');
}
function doAddToPlaylist(playlistId, albumId, origIdx) {
  const u = getCurrentUser(); if (!u) return;
  const album = ALBUMS.find(a => a.id === albumId); const track = album?.tracks[origIdx]; if (!track) return;
  const a = getAccounts(); const acc = a[u.id];
  const pl = acc.playlists.find(p => p.id === playlistId); if (!pl) return;
  pl.tracks.push({ albumId, origIdx, name: track.name, cover: album.cover, artist: album.artist, albumTitle: album.title });
  saveAccounts(a); showToast(`Added to "${pl.name}"`); renderSidebarLibrary();
}
function openPlaylistView(playlistId, push = true) {
  const u = getCurrentUser(); if (!u) return;
  const pl = (u.playlists || []).find(p => p.id === playlistId); if (!pl) return;
  currentPlaylistId = playlistId;
  renderPlaylistView(playlistId);
  showView('playlist');
  if (push) pushNav(() => openPlaylistView(playlistId, false));
}
function renderPlaylistView(playlistId) {
  const u = getCurrentUser(); if (!u) return;
  const pl = (u.playlists || []).find(p => p.id === playlistId); if (!pl) return;
  const hero = document.getElementById('playlistHero');
  hero.innerHTML = `<div class="playlist-hero-icon">♪</div><div><div style="font-size:10px;color:var(--muted);font-family:'Space Mono',monospace;letter-spacing:2px;text-transform:uppercase;margin-bottom:6px;">Playlist</div><div class="playlist-hero-name">${pl.name}</div><div class="playlist-hero-owner">${u.displayName || u.username}</div><div class="playlist-hero-count">${pl.tracks.length} tracks</div>${pl.desc ? `<div style="font-size:12px;color:var(--muted);margin-top:4px;">${pl.desc}</div>` : ''}</div>`;
  document.getElementById('playlistActionRow').innerHTML = `<button class="btn-play-all" onclick="playPlaylist('${playlistId}')"><i class="fas fa-play"></i></button><button class="btn-save" onclick="openAddTrackToPlaylistSearch('${playlistId}')">+ Add Songs</button>`;
  const rows = document.getElementById('playlistTrackRows'); rows.innerHTML = '';
  if (!pl.tracks.length) { rows.innerHTML = '<div class="empty-state" style="padding:20px 0;"><i class="fas fa-music"></i>No tracks yet — add some from any album</div>'; return; }
  pl.tracks.forEach((t, i) => {
    const row = document.createElement('div'); row.className = 'playlist-track-row';
    row.innerHTML = `<div style="font-size:12px;color:var(--muted);font-family:'Space Mono',monospace;text-align:center;">${i + 1}</div><img class="playlist-track-art" src="${t.cover}" onerror="this.style.background='#222'"/><div class="playlist-track-info"><div class="playlist-track-name">${t.name}</div><div class="playlist-track-album">${t.artist} · ${t.albumTitle}</div></div><div style="font-size:11px;color:var(--muted);font-family:'Space Mono',monospace;text-align:right;">—</div><button style="background:none;border:none;color:var(--muted);cursor:pointer;font-size:13px;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;" onclick="openPlaylistTrackCtx(event,'${playlistId}',${i})"><i class="fas fa-ellipsis-h"></i></button>`;
    row.addEventListener('click', e => { if (e.target.closest('button')) return; playPlaylistFromIndex(playlistId, i); });
    rows.appendChild(row);
  });
}
function openPlaylistTrackCtx(e, playlistId, trackIndex2) {
  e.stopPropagation();
  showCtxMenu(e.clientX, e.clientY, [
    { icon: 'fa-trash', label: 'Remove from Playlist', action: () => { removePlaylistTrack(playlistId, trackIndex2); }, class: 'danger' },
    { icon: 'fa-compact-disc', label: 'Go to Album', action: () => { const u = getCurrentUser(); const pl = (u.playlists || []).find(p => p.id === playlistId); if (pl && pl.tracks[trackIndex2]) openAlbum(pl.tracks[trackIndex2].albumId); } }
  ]);
}
function removePlaylistTrack(playlistId, index) {
  const u = getCurrentUser(); if (!u) return;
  const a = getAccounts(); const pl = a[u.id].playlists.find(p => p.id === playlistId); if (!pl) return;
  pl.tracks.splice(index, 1); saveAccounts(a); renderPlaylistView(playlistId); showToast('Track removed'); renderSidebarLibrary();
}
function playPlaylist(playlistId) {
  const u = getCurrentUser(); if (!u) return;
  const pl = (u.playlists || []).find(p => p.id === playlistId); if (!pl || !pl.tracks.length) return;
  flatList = pl.tracks.map(t => {
    const album = ALBUMS.find(a => a.id === t.albumId); if (!album) return null;
    const files = Array.isArray(album.tracks[t.origIdx]?.file) ? album.tracks[t.origIdx].file : [album.tracks[t.origIdx]?.file];
    return { name: t.name, src: files[0], albumId: t.albumId, albumTitle: t.albumTitle, cover: t.cover, artist: t.artist, origIdx: t.origIdx, pIdx: 0, lastPIdx: 0, isMulti: false };
  }).filter(Boolean);
  if (shuffleOn) rebuildShuffle();
  loadTrack(0);
  playTrack();
}
function playPlaylistFromIndex(playlistId, startIdx) {
  const u = getCurrentUser(); if (!u) return;
  const pl = (u.playlists || []).find(p => p.id === playlistId); if (!pl) return;
  flatList = pl.tracks.map(t => {
    const album = ALBUMS.find(a => a.id === t.albumId); if (!album) return null;
    const files = Array.isArray(album.tracks[t.origIdx]?.file) ? album.tracks[t.origIdx].file : [album.tracks[t.origIdx]?.file];
    return { name: t.name, src: files[0], albumId: t.albumId, albumTitle: t.albumTitle, cover: t.cover, artist: t.artist, origIdx: t.origIdx, pIdx: 0, lastPIdx: 0, isMulti: false };
  }).filter(Boolean);
  if (shuffleOn) rebuildShuffle();
  loadTrack(startIdx);
  playTrack();
}

function openPlaylistEditor(playlistId) {
  const u = getCurrentUser(); if (!u) return;
  const pl = (u.playlists || []).find(p => p.id === playlistId); if (!pl) return;
  document.getElementById('editorPlaylistName').textContent = pl.name + ' · ' + pl.tracks.length + ' tracks';
  renderEditorTracks(playlistId);
  const artists = [...new Set(pl.tracks.map(t => t.artist))];
  document.getElementById('editorRemoveArtistBtn').onclick = () => {
    document.getElementById('removeGroupTitle').textContent = 'REMOVE ARTIST';
    const list = document.getElementById('removeGroupList'); list.innerHTML = '';
    artists.forEach(ar => {
      const cnt = pl.tracks.filter(t => t.artist === ar).length;
      const row = document.createElement('div'); row.className = 'editor-track';
      row.innerHTML = `<div style="flex:1;font-family:'Space Mono',monospace;font-size:12px;">${ar} <span style="color:var(--muted);">(${cnt} tracks)</span></div><button class="btn btn-danger" style="padding:5px 12px;font-size:11px;">Remove</button>`;
      row.querySelector('button').addEventListener('click', () => { removeArtistFromPlaylist(playlistId, ar); closeModal('modalRemoveGroup'); });
      list.appendChild(row);
    }); openModal('modalRemoveGroup');
  };
  const albumTitles = [...new Set(pl.tracks.map(t => t.albumTitle))];
  document.getElementById('editorRemoveAlbumBtn').onclick = () => {
    document.getElementById('removeGroupTitle').textContent = 'REMOVE ALBUM';
    const list = document.getElementById('removeGroupList'); list.innerHTML = '';
    albumTitles.forEach(at => {
      const cnt = pl.tracks.filter(t => t.albumTitle === at).length;
      const row = document.createElement('div'); row.className = 'editor-track';
      row.innerHTML = `<div style="flex:1;font-family:'Space Mono',monospace;font-size:12px;">${at} <span style="color:var(--muted);">(${cnt} tracks)</span></div><button class="btn btn-danger" style="padding:5px 12px;font-size:11px;">Remove</button>`;
      row.querySelector('button').addEventListener('click', () => { removeAlbumFromPlaylist(playlistId, at); closeModal('modalRemoveGroup'); });
      list.appendChild(row);
    }); openModal('modalRemoveGroup');
  };
  openModal('modalPlaylistEditor');
}
function renderEditorTracks(playlistId) {
  const u = getCurrentUser(); if (!u) return;
  const pl = (u.playlists || []).find(p => p.id === playlistId); if (!pl) return;
  const list = document.getElementById('editorTrackList'); list.innerHTML = '';
  if (!pl.tracks.length) { list.innerHTML = '<div style="color:var(--muted);font-family:\'Space Mono\',monospace;font-size:12px;padding:10px;">No tracks</div>'; return; }
  pl.tracks.forEach((t, i) => {
    const row = document.createElement('div'); row.className = 'editor-track';
    row.innerHTML = `<img class="editor-track-art" src="${t.cover}" onerror="this.style.background='#222'"/><div class="editor-track-info"><div class="editor-track-name">${t.name}</div><div class="editor-track-album">${t.albumTitle}</div></div><button class="editor-remove" onclick="removePlaylistTrack('${playlistId}',${i});renderEditorTracks('${playlistId}')"><i class="fas fa-times"></i></button>`;
    list.appendChild(row);
  });
}
function editorRemoveAll() {
  const u = getCurrentUser(); if (!u || !currentPlaylistId) return;
  if (!confirm('Remove all tracks from this playlist?')) return;
  const a = getAccounts(); const pl = a[u.id].playlists.find(p => p.id === currentPlaylistId); if (!pl) return;
  pl.tracks = []; saveAccounts(a); renderEditorTracks(currentPlaylistId); document.getElementById('editorPlaylistName').textContent = pl.name + ' · 0 tracks'; showToast('Playlist cleared');
}
function removeArtistFromPlaylist(playlistId, artistName) {
  const u = getCurrentUser(); if (!u) return;
  const a = getAccounts(); const pl = a[u.id].playlists.find(p => p.id === playlistId); if (!pl) return;
  const before = pl.tracks.length; pl.tracks = pl.tracks.filter(t => t.artist !== artistName);
  saveAccounts(a); showToast(`Removed ${before - pl.tracks.length} tracks by ${artistName}`); renderEditorTracks(playlistId); renderPlaylistView(playlistId);
}
function removeAlbumFromPlaylist(playlistId, albumTitle) {
  const u = getCurrentUser(); if (!u) return;
  const a = getAccounts(); const pl = a[u.id].playlists.find(p => p.id === playlistId); if (!pl) return;
  const before = pl.tracks.length; pl.tracks = pl.tracks.filter(t => t.albumTitle !== albumTitle);
  saveAccounts(a); showToast(`Removed ${before - pl.tracks.length} tracks from ${albumTitle}`); renderEditorTracks(playlistId); renderPlaylistView(playlistId);
}

function renderSidebarLibrary() {
  const lib = document.getElementById('sidebarLibrary');
  lib.innerHTML = '';
  const u = getCurrentUser();
  if (!u) { lib.innerHTML = '<div style="padding:12px 10px;font-family:\'Space Mono\',monospace;font-size:11px;color:var(--muted);">Sign in to save albums & create playlists</div>'; return; }
  (u.playlists || []).forEach(pl => {
    const item = document.createElement('div'); item.className = 'saved-item' + (currentPlaylistId === pl.id ? ' active' : '');
    item.innerHTML = `<div class="saved-item-art playlist-icon" style="background:linear-gradient(135deg,var(--surface3),var(--surface2));font-size:18px;border-radius:5px;width:38px;height:38px;display:flex;align-items:center;justify-content:center;color:var(--accent2);">♪</div><div class="saved-item-info"><div class="saved-item-name">${pl.name}</div><div class="saved-item-sub">Playlist · ${pl.tracks.length}</div></div>`;
    item.addEventListener('click', () => openPlaylistView(pl.id)); lib.appendChild(item);
  });
  (u.savedAlbums || []).forEach(aid => {
    const album = ALBUMS.find(a => a.id === aid); if (!album) return;
    const item = document.createElement('div'); item.className = 'saved-item' + (currentAlbumId === aid ? ' active' : '');
    item.innerHTML = `<img class="saved-item-art" src="${album.cover}" onerror="this.style.background='#222'"/><div class="saved-item-info"><div class="saved-item-name">${album.title}</div><div class="saved-item-sub">${album.artist}</div></div>`;
    item.addEventListener('click', () => openAlbum(aid)); lib.appendChild(item);
  });
  if (!u.playlists?.length && !u.savedAlbums?.length) lib.innerHTML += '<div style="padding:8px 10px;font-family:\'Space Mono\',monospace;font-size:11px;color:var(--muted);">Save albums & create playlists to see them here</div>';
}
</script>

<script>
// ══════════════════════════════════════════════════════
//  PROFILE
// ══════════════════════════════════════════════════════
function openOwnProfile() { const u = getCurrentUser(); if (!u) { openModal('modalAuth'); return; } renderOwnProfile(); showView('profile'); pushNav(() => { renderOwnProfile(); showView('profile'); }); }
function renderOwnProfile() {
  const u = getCurrentUser(); if (!u) return;
  const content = document.getElementById('profileContent');
  const stats = [{ num: (u.savedAlbums || []).length, label: 'SAVED' }, { num: (u.playlists || []).length, label: 'PLAYLISTS' }, { num: (u.following || []).length, label: 'FOLLOWING' }];
  content.innerHTML = `<div class="profile-hero"><div class="profile-avatar" onclick="promptPfpChange()">${u.pfp ? `<img src="${u.pfp}" alt=""/>` : '<span style="font-size:50px;"><img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"/></span>'}<div class="profile-avatar-edit"><i class="fas fa-camera"></i></div></div><div><div class="profile-displayname">${u.displayName || u.username}</div><div class="profile-username">@${u.username}</div><div class="profile-id">${u.id}</div><div class="profile-stats">${stats.map(s => `<div class="profile-stat"><div class="profile-stat-num">${s.num}</div><div class="profile-stat-label">${s.label}</div></div>`).join('')}</div><div class="profile-actions"><button class="btn btn-secondary" onclick="openModal('modalEditProfile');loadEditProfile()"><i class="fas fa-edit"></i> Edit</button><button class="btn btn-secondary" onclick="doLogout()"><i class="fas fa-sign-out-alt"></i> Sign Out</button></div></div></div><div class="profile-section"><h3>Playlists</h3><div id="profilePlaylists" style="display:flex;flex-wrap:wrap;gap:8px;"></div></div><div class="profile-section"><h3>Saved Albums</h3><div class="album-grid" id="profileAlbums" style="padding:0;"></div></div>`;
  const ppEl = document.getElementById('profilePlaylists');
  (u.playlists || []).forEach(pl => { const card = document.createElement('div'); card.className = 'playlist-card'; card.innerHTML = `<div class="playlist-card-icon">♪</div><div class="playlist-card-name">${pl.name}</div><div class="playlist-card-count">${pl.tracks.length} tracks</div>`; card.addEventListener('click', () => openPlaylistView(pl.id)); ppEl.appendChild(card); });
  if (!(u.playlists || []).length) ppEl.innerHTML = '<div style="font-family:\'Space Mono\',monospace;font-size:12px;color:var(--muted);">No playlists yet</div>';
  const paEl = document.getElementById('profileAlbums');
  (u.savedAlbums || []).forEach(aid => { const album = ALBUMS.find(a => a.id === aid); if (!album) return; paEl.appendChild(makeAlbumCard(album)); });
  if (!(u.savedAlbums || []).length) paEl.innerHTML = '<div style="font-family:\'Space Mono\',monospace;font-size:12px;color:var(--muted);">No saved albums yet</div>';
}
function openUserProfile(userId) {
  const accounts = getAccounts(); const u = accounts[userId]; if (!u) return;
  if (isInactive(u)) { showToast('This account is inactive'); return; }
  const me = getCurrentUser(); const isMe = me && me.id === userId; if (isMe) { openOwnProfile(); return; }
  const content = document.getElementById('userContent');
  content.innerHTML = `<div class="profile-hero"><div class="profile-avatar" style="cursor:default;">${u.pfp ? `<img src="${u.pfp}" alt=""/>` : '<span style="font-size:50px;"><img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"/></span>'}</div><div><div class="profile-displayname">${u.displayName || u.username}</div><div class="profile-username">@${u.username}</div><div class="profile-id">${u.id}</div><div class="profile-stats"><div class="profile-stat"><div class="profile-stat-num">${(u.savedAlbums || []).length}</div><div class="profile-stat-label">SAVED</div></div><div class="profile-stat"><div class="profile-stat-num">${(u.playlists || []).length}</div><div class="profile-stat-label">PLAYLISTS</div></div></div></div></div><div class="profile-section"><h3>Playlists</h3><div id="userPlaylists" style="display:flex;flex-wrap:wrap;gap:8px;"></div></div>`;
  const ppEl = document.getElementById('userPlaylists');
  (u.playlists || []).forEach(pl => { const card = document.createElement('div'); card.className = 'playlist-card'; card.innerHTML = `<div class="playlist-card-icon">♪</div><div class="playlist-card-name">${pl.name}</div><div class="playlist-card-count">${pl.tracks.length} tracks</div>`; ppEl.appendChild(card); });
  if (!(u.playlists || []).length) ppEl.innerHTML = '<div style="font-family:\'Space Mono\',monospace;font-size:12px;color:var(--muted);">No public playlists</div>';
  showView('user'); pushNav(() => openUserProfile(userId));
}
function promptPfpChange() {
  const url = prompt('Enter image URL for profile picture:', ''); if (url === null) return;
  const u = getCurrentUser(); if (!u) return;
  const a = getAccounts(); a[u.id].pfp = url.trim(); saveAccounts(a); renderOwnProfile(); renderTopbarRight(); showToast('Profile picture updated');
}
function loadEditProfile() {
  const u = getCurrentUser(); if (!u) return;
  document.getElementById('editDisplayName').value = u.displayName || '';
  document.getElementById('editPfpUrl').value = u.pfp || '';
  document.getElementById('editOldPass').value = '';
  document.getElementById('editNewPass').value = '';
  document.getElementById('editPassError').style.display = 'none';
}
function saveProfileEdit() {
  const u = getCurrentUser(); if (!u) return;
  const a = getAccounts(); const acc = a[u.id];
  acc.displayName = document.getElementById('editDisplayName').value.trim() || acc.displayName;
  const newPfp = document.getElementById('editPfpUrl').value.trim(); if (newPfp) acc.pfp = newPfp;
  const oldP = document.getElementById('editOldPass').value; const newP = document.getElementById('editNewPass').value;
  if (oldP || newP) {
    if (oldP !== acc.password) { document.getElementById('editPassError').textContent = 'Current password incorrect'; document.getElementById('editPassError').style.display = 'block'; return; }
    if (newP.length < 6) { document.getElementById('editPassError').textContent = 'New password too short'; document.getElementById('editPassError').style.display = 'block'; return; }
    acc.password = newP;
  }
  saveAccounts(a); closeModal('modalEditProfile'); renderOwnProfile(); renderTopbarRight(); showToast('Profile updated');
}

// ══════════════════════════════════════════════════════
//  AUTH
// ══════════════════════════════════════════════════════
function switchAuthTab(tab) {
  document.querySelectorAll('#modalAuth .tab').forEach((t, i) => t.classList.toggle('active', i === (tab === 'login' ? 0 : 1)));
  document.getElementById('authLogin').style.display = tab === 'login' ? 'block' : 'none';
  document.getElementById('authRegister').style.display = tab === 'register' ? 'block' : 'none';
  document.getElementById('authSuccess').style.display = 'none';
}
function doLogin() {
  const raw = document.getElementById('loginUser').value.trim();
  const pass = document.getElementById('loginPass').value;
  const accounts = getAccounts();
  const err = document.getElementById('loginError'); err.style.display = 'none';
  const match = Object.values(accounts).find(u => (u.id.toLowerCase() === raw.toLowerCase() || u.username.toLowerCase() === raw.toLowerCase().replace('@', '')) && u.password === pass);
  if (!match) { err.style.display = 'block'; return; }
  if (isInactive(match)) { err.textContent = 'Account inactive (>160 days).'; err.style.display = 'block'; return; }
  setSession(match.id); const a = getAccounts(); a[match.id].lastActive = Date.now(); saveAccounts(a);
  closeModal('modalAuth'); renderTopbarRight(); renderSidebarLibrary(); showToast('Welcome back, ' + (match.displayName || match.username) + '!');
}
function doRegister() {
  const username = document.getElementById('regUser').value.trim().toLowerCase();
  const display = document.getElementById('regDisplay').value.trim();
  const pass = document.getElementById('regPass').value;
  const fallback = document.getElementById('regFallback').value.trim();
  const ue = document.getElementById('regUserError'), re = document.getElementById('regError');
  ue.style.display = 'none'; re.style.display = 'none';
  if (!/^[a-z0-9_]{3,20}$/.test(username)) { ue.textContent = '3–20 chars, letters/numbers/underscores'; ue.style.display = 'block'; return; }
  if (pass.length < 6) { re.textContent = 'Password must be at least 6 characters'; re.style.display = 'block'; return; }
  if (!fallback) { re.textContent = 'Recovery answer is required'; re.style.display = 'block'; return; }
  const accounts = getAccounts();
  if (Object.values(accounts).some(u => u.username === username)) { ue.textContent = 'Username taken'; ue.style.display = 'block'; return; }
  let id; do { id = genId(); } while (accounts[id]);
  const now = Date.now();
  accounts[id] = { id, username, displayName: display || username, password: pass, fallback, pfp: '', playlists: [], savedAlbums: [], following: [], createdAt: now, lastActive: now };
  saveAccounts(accounts); setSession(id);
  document.getElementById('newIdBadge').textContent = id;
  document.getElementById('authLogin').style.display = 'none';
  document.getElementById('authRegister').style.display = 'none';
  document.getElementById('authSuccess').style.display = 'block';
  renderTopbarRight(); renderSidebarLibrary();
}
function doLogout() { setSession(null); renderTopbarRight(); renderSidebarLibrary(); showView('home'); showToast('Signed out'); }
</script>

<script>
// ══════════════════════════════════════════════════════
//  TOPBAR RIGHT
// ══════════════════════════════════════════════════════
function renderTopbarRight() {
  const right = document.getElementById('topbarRight');
  const u = getCurrentUser();
  if (u) {
    right.innerHTML = `<button class="pfp-btn" id="pfpBtn" onclick="openOwnProfile()" title="${u.displayName || u.username}">${u.pfp ? `<img src="${u.pfp}" alt=""/>` : '<img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"/>'}</button>`;
  } else {
    right.innerHTML = `<button class="topbar-btn" onclick="switchAuthTab('login');openModal('modalAuth')">Sign In</button><button class="topbar-btn primary" onclick="switchAuthTab('register');openModal('modalAuth')">Create Account</button>`;
  }
}

// ══════════════════════════════════════════════════════
//  MODAL / TOAST / CTX MENU
// ══════════════════════════════════════════════════════
function openModal(id) { document.getElementById(id).classList.add('open'); }
function closeModal(id) { document.getElementById(id).classList.remove('open'); }
document.querySelectorAll('.modal-overlay').forEach(el => { el.addEventListener('click', e => { if (e.target === el) el.classList.remove('open'); }); });
function showToast(msg, dur = 2200) {
  const t = document.getElementById('toast'); t.textContent = msg; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), dur);
}
let ctxCleanup = null;
function showCtxMenu(x, y, items) {
  const menu = document.getElementById('ctxMenu'); menu.innerHTML = '';
  items.forEach(item => {
    if (!item) return;
    const el = document.createElement('div'); el.className = 'ctx-item' + (item.class ? ' ' + item.class : '');
    el.innerHTML = `<i class="fas ${item.icon}"></i>${item.label}`;
    el.addEventListener('click', () => { menu.classList.remove('open'); item.action(); }); menu.appendChild(el);
  });
  const vw = window.innerWidth, vh = window.innerHeight;
  let mx = x, my = y;
  menu.style.visibility = 'hidden'; menu.style.display = 'block'; menu.classList.add('open');
  const r = menu.getBoundingClientRect(); menu.style.display = '';
  if (mx + r.width > vw) mx = vw - r.width - 8; if (my + r.height > vh) my = vh - r.height - 8;
  menu.style.left = mx + 'px'; menu.style.top = my + 'px';
  if (ctxCleanup) ctxCleanup();
  const close = e => { if (!menu.contains(e.target)) { menu.classList.remove('open'); document.removeEventListener('click', close); } };
  setTimeout(() => document.addEventListener('click', close), 10); ctxCleanup = close;
}
</script>

<script>
// ══════════════════════════════════════════════════════
//  INIT
// ══════════════════════════════════════════════════════
cleanInactive();
renderDiscover();
renderTopbarRight();
renderSidebarLibrary();
initSettingsUI();
pushNav(() => { showView('home'); });
loadAndRenderStats().catch(e => console.warn('Stats load error:', e));

// Apply saved settings on load
document.getElementById('volSlider').max = playerSettings.maxVol;
document.getElementById('volSlider').value = playerSettings.defaultVol;
updateVolFill();
shuffleOn = playerSettings.shuffleDefault;
repeatMode = playerSettings.repeatDefault;
if (shuffleOn) document.getElementById('btnRandom').classList.add('active');
if (repeatMode === 1) { document.getElementById('btnRepeat').classList.add('active'); }
else if (repeatMode === 2) { document.getElementById('btnRepeat').classList.add('active'); document.getElementById('repeatIcon').className = 'fas fa-redo-alt'; }

// Keyboard shortcuts
document.addEventListener('keydown', e => {
  const tag = document.activeElement.tagName;
  if (tag === 'INPUT' || tag === 'TEXTAREA') return;
  if (e.code === 'Space') { e.preventDefault(); togglePlay(); }
  if (e.code === 'ArrowRight' && e.shiftKey) nextTrack();
  if (e.code === 'ArrowLeft' && e.shiftKey) prevTrack();
});
</script>
</body>
</html>
